{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/Index.vue?d295","webpack:///./src/helper.ts","webpack:///./src/views/TemplateDetail.vue?619a","webpack:///./src/assets/background.png","webpack:///./src/components/TemplateList.vue?7138","webpack:///./src/views/Setting.vue?d1f2","webpack:///./src/components/WorksList.vue?0a3e","webpack:///./src/views/MyWork.vue?0815","webpack:///./src/service/user.ts","webpack:///./src/hooks/useShowError.ts","webpack:///./src/components/UserProfile.vue?d833","webpack:///./src/components/UserProfile.vue","webpack:///./src/components/UserProfile.vue?d3c6","webpack:///./src/views/Home.vue?ab45","webpack:///./src/service/fetch.ts","webpack:///./src/components/UserProfile.vue?b90b","webpack:///./src/configAntD.ts","webpack:///./src/App.vue","webpack:///./src/App.vue?0f72","webpack:///./src/views/Index.vue?a4e0","webpack:///./src/views/Index.vue","webpack:///./src/views/Index.vue?48b4","webpack:///./src/views/Home.vue?ded9","webpack:///./src/components/TemplateList.vue?c712","webpack:///./src/components/TemplateList.vue","webpack:///./src/components/TemplateList.vue?3ea7","webpack:///./src/hooks/useLoadMore.ts","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?dc4d","webpack:///./src/views/MyWork.vue?9afd","webpack:///./src/components/WorksList.vue?1073","webpack:///./src/components/WorksList.vue","webpack:///./src/components/WorksList.vue?2d25","webpack:///./src/views/MyWork.vue","webpack:///./src/views/MyWork.vue?8db0","webpack:///./src/views/TemplateDetail.vue?8e5e","webpack:///./src/views/TemplateDetail.vue","webpack:///./src/views/TemplateDetail.vue?ff8f","webpack:///./src/views/Setting.vue?eebe","webpack:///./src/views/Setting.vue","webpack:///./src/views/Setting.vue?81c3","webpack:///./src/service/editor.ts","webpack:///./src/store/editor.ts","webpack:///./src/store/user.ts","webpack:///./src/service/work.ts","webpack:///./src/store/works.ts","webpack:///./src/store/index.ts","webpack:///./src/router/index.ts","webpack:///./src/main.ts","webpack:///./src/assets/logo.png","webpack:///./src/hooks/useCreateDesign.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","beforeUploadCheck","file","condition","format","size","isValidFormat","includes","isValidSize","passed","commonUploadCheck","clickInsideElement","className","el","classList","contains","imageDimensions","img","Image","URL","createObjectURL","naturalWidth","width","naturalHeight","height","takeScreenshotAndUpload","id","getElementById","html2canvas","allowTaint","useCORS","canvas","toBlob","newFile","File","formData","FormData","append","axios","post","headers","catch","objToQueryString","queryObj","map","join","toDateFormat","date","toISOString","split","toDateFromDays","newDate","Date","getTime","setDate","getDate","getDaysArray","start","end","arr","dt","objToArr","obj","keys","insertAt","index","newItem","downloadImage","url","fileName","substring","lastIndexOf","saveAs","getVeriCode","emailAddress","method","login","getUserInfo","updateUserInfo","useShowError","store","useStore","computed","state","status","watch","errorValue","render","_ctx","_cache","$props","$setup","$data","$options","_component_router_link","_resolveComponent","_component_a_button","_component_a_menu_item","_component_a_menu","_component_a_dropdown_button","user","isLogin","_openBlock","_createElementBlock","class","_normalizeClass","smMode","_createCommentVNode","_createBlock","onClick","createDesign","style","default","_withCtx","_createTextVNode","_","_createVNode","to","overlay","logout","_toDisplayString","nickName","defineComponent","props","required","Boolean","setup","router","useRouter","useCreateDesign","commit","success","__exports__","fetch","withCredentials","baseURL","interceptors","use","async","token","localStorage","getItem","config","Authorization","response","axiosRes","axiosErr","components","Avatar","Button","Spin","Modal","Drawer","Card","Meta","Tag","Layout","Header","Footer","Sider","Content","Tabs","TabPane","Menu","Item","Row","Col","Form","Dropdown","Input","InputNumber","TextArea","Slider","Radio","Group","Select","Option","install","app","forEach","component","_hoisted_1","_component_router_view","_withScopeId","_pushScopeId","_popScopeId","_hoisted_2","_createElementVNode","_imports_0","_component_a_spin","_component_user_profile","_component_a_layout_header","_component_a_layout_content","_component_a_layout","_component_a_layout_footer","loading","tip","background","userInfo","isHomePage","padding","minHeight","maxWidth","margin","UserProfile","route","useRoute","showError","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_component_a_input_search","_component_Html5TwoTone","_component_a_col","_component_BuildTwoTone","_component_BulbTwoTone","_component_a_row","_component_a_empty","_component_template_list","searchText","$event","placeholder","onSearch","span","align","currentSearchText","shape","marginLeft","clearSearch","gutter","templates","description","list","justify","isLastPage","loadMorePage","works","_component_UserOutlined","_component_a_card_meta","_component_a_card","_component_a_tag","_Fragment","_renderList","item","hoverable","cover","coverImg","title","copiedCount","isHot","color","isNew","Array","String","useLoadMore","actionName","total","params","pageIndex","pageSize","requestParams","reactive","dispatch","searchParams","goToPage","loadPrevPage","isFirstPage","totalPage","Math","ceil","toRef","TemplateList","ref","totalTemplates","trim","onMounted","_component_a_range_picker","_component_a_table","_component_a_modal","_component_a_tab_pane","_component_a_tabs","_component_works_list","_component_a_pagination","visible","showModal","footer","dateRange","onChange","onDateChange","columns","tableColumns","tableData","changeCategory","tab","onOnDelete","onDelete","onOnCopy","onCopy","onOnStatic","openStatic","onOnSend","sendGift","transferDone","current","currentPage","pageChange","_component_a_input","_component_a_form_item","_component_a_form","_component_a_skeleton","_component_EditOutlined","_component_BarChartOutlined","_component_EllipsisOutlined","_component_CopyOutlined","_component_DeleteOutlined","_component_DownloadOutlined","_component_GiftOutlined","_component_a_dropdown","sendModal","model","form","rules","layout","label","username","prefix","listWithBarcode","onMouseenter","showBarcode","barcodeUrl","actions","_withModifiers","staticClicked","copyClicked","deleteClicked","saveImage","sendClicked","emits","transferStatus","context","container","currentItem","publishForm","baseH5URL","uuid","trigger","nextTick","hasChildNodes","QRCode","text","confirm","okText","okType","cancelText","onOk","emit","validate","WorksList","totalWorks","statics","channels","editor","dateArray","dateArrayFormat","staticOptions","legend","stat","xAxis","series","statMap","eventDate","eventData","pv","dateArrayFormatMap","yAxis","dataIndex","totalPv","reduce","prev","percent","currentStaticId","isTemplate","myChart","log","errno","getChannelStatic","promiseArr","channel","startDate","endDate","clear","setOption","dateString","_component_a_avatar","currentTemplate","alt","desc","picture","icon","isCreating","download","currentTemplateId","getters","getCurrentTemplate","channelURL","_component_styled_uploader","_component_a_radio_button","_component_a_radio_group","activeKey","currentKey","onFileUploaded","updateAvatar","uploaded","gender","update","opName","rowKey","pagination","handleTableChange","action","record","recoverWork","slots","customRender","rawData","urls","count","pager","payload","parseInt","getWork","saveWork","pageDefaultProps","backgroundColor","backgroundImage","backgroundRepeat","backgroundSize","maxHistoryNumber","pushHistory","historyRecord","historyIndex","histories","modifyHistory","history","componentId","oldValue","newValue","updatedComponent","find","isArray","keyName","page","cachedOldValue","globalTimeout","debounceChange","cachedValue","callback","isUndefined","editorModule","currentElement","currentEditing","isDirty","isChangedNotPublished","setting","mutations","resetEditor","addComponentToEditor","uuidv4","layerName","cloneDeep","undo","filter","redo","setActive","setEditing","updatePage","level","pageData","moveComponent","this","oldTop","top","oldLeft","left","direction","amount","isProps","updateComponent","copyComponent","currentComponent","copiedComponent","pasteCopiedComponent","clone","deleteComponent","componentData","componentIndex","findIndex","content","rest","getChannels","createChannel","deleteChannel","extraData","updatedAt","copyWork","publishWork","latestPublishAt","publishTemplate","asyncAndCommit","saveWorkT","postData","saveAndPublishWork","workId","getCurrentElement","checkUndoDisable","checkRedoDisable","setItem","defaults","common","fetchCurrentUser","removeItem","updateUser","loginAndFetch","loginData","updateUserAndFetch","getTemplate","workModule","fetchTemplates","fetchTemplate","fetchWorks","createWork","unshift","deleteWork","work","transferWork","fetchStatic","clearStatic","queryString","newObj","category","baseStaticURL","template","mutationName","newConfig","createStore","setLoading","setError","routes","path","Index","children","Home","meta","MyWork","requiredLogin","TemplateDetail","Setting","redirectAlreadyLogin","createRouter","createWebHistory","scrollBehavior","from","savedPosition","beforeEach","next","baseBackendURL","process","VUE_APP_IS_STAGING","createApp","App","timeGap","currentURL","now","resp","__bl","api","Antd","PosterComponents","mount"],"mappings":"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","file":"js/app.73dd3822.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"login\":\"login\",\"editor\":\"editor\"}[chunkId]||chunkId) + \".\" + {\"login\":\"87d19cf2\",\"editor\":\"7f55ca14\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"login\":1,\"editor\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"login\":\"login\",\"editor\":\"editor\"}[chunkId]||chunkId) + \".\" + {\"login\":\"3900ca02\",\"editor\":\"dc3d6c3e\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"npm..pnpm\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/.pnpm/vue-loader@16.8.3_webpack@4.46.0/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.pnpm/vue-loader@16.8.3_webpack@4.46.0/node_modules/vue-loader/dist/index.js??ref--1-1!./Index.vue?vue&type=style&index=0&id=6ad93b2b&scoped=true&lang=css\"","import { message } from 'ant-design-vue'\r\nimport axios from 'axios'\r\nimport html2canvas from 'html2canvas'\r\nimport { saveAs } from 'file-saver'\r\nimport { map } from 'lodash-es'\r\ninterface CheckCondition {\r\n  format?: string[];\r\n  size?: number;\r\n}\r\n\r\ntype ErrorType = 'size' | 'format' | null\r\n\r\nexport interface UploadImgProps {\r\n  data: {\r\n    urls: string[];\r\n  };\r\n  errno: number;\r\n  file: File;\r\n}\r\nexport function beforeUploadCheck (file: File, condition: CheckCondition) {\r\n  const { format, size } = condition\r\n  const isValidFormat = format ? format.includes(file.type) : true\r\n  const isValidSize = size ? (file.size / 1024 / 1024 < size) : true\r\n  let error: ErrorType = null\r\n  if (!isValidFormat) {\r\n    error = 'format'\r\n  }\r\n  if (!isValidSize) {\r\n    error = 'size'\r\n  }\r\n  return {\r\n    passed: isValidFormat && isValidSize,\r\n    error\r\n  }\r\n}\r\nexport const commonUploadCheck = (file: File) => {\r\n  const result = beforeUploadCheck(file, { format: ['image/jpeg', 'image/png'], size: 1 })\r\n  const { passed, error } = result\r\n  if (error === 'format') {\r\n    message.error('上传图片只能是 JPG/PNG 格式!')\r\n  }\r\n  if (error === 'size') {\r\n    message.error('上传图片大小不能超过 1Mb')\r\n  }\r\n  return passed\r\n}\r\n\r\nexport function clickInsideElement (e: Event, className: string) {\r\n  let el = e.target as HTMLElement\r\n  if (el.classList.contains(className)) {\r\n    return el\r\n  } else {\r\n    while (el) {\r\n      if (el.classList && el.classList.contains(className)) {\r\n        return el\r\n      } else {\r\n        el = el.parentNode as HTMLElement\r\n      }\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nexport const imageDimensions = (file: File) => {\r\n  return new Promise<{ width: number; height: number }>((resolve, reject) => {\r\n    const img = new Image()\r\n    img.src = URL.createObjectURL(file)\r\n    // the following handler will fire after the successful loading of the image\r\n    img.onload = () => {\r\n      const { naturalWidth: width, naturalHeight: height } = img\r\n      resolve({ width, height })\r\n    }\r\n    // and this handler will fire if there was an error with the image (like if it's not really an image or a corrupted one)\r\n    img.onerror = () => {\r\n      reject(new Error('There was some problem with the image.'))\r\n    }\r\n  })\r\n}\r\n\r\nexport function isMobile (mobile: string) {\r\n  return /^1[3-9]\\d{9}$/.test(mobile)\r\n}\r\n\r\nexport const takeScreenshotAndUpload = (id: string) => {\r\n  const el = document.getElementById(id) as HTMLElement\r\n  return html2canvas(el,\r\n    { allowTaint: false, useCORS: true, width: 375 }).then(canvas => {\r\n    return new Promise<UploadImgProps>((resolve, reject) => {\r\n      canvas.toBlob((data) => {\r\n        if (data) {\r\n          const newFile = new File([data], 'screenshot.png')\r\n          const formData = new FormData()\r\n          formData.append('file', newFile)\r\n          axios.post('/utils/upload-img', formData, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            },\r\n            timeout: 5000\r\n          }).then(data => {\r\n            resolve(data.data)\r\n          }).catch(err => {\r\n            reject(err)\r\n          })\r\n        } else {\r\n          reject(new Error('blob data error'))\r\n        }\r\n      }, 'image/png')\r\n    })\r\n  })\r\n}\r\n\r\nexport const objToQueryString = (queryObj: { ['string']: any}) => {\r\n  return map(queryObj, (value: any, key: string) => `${key}=${value}`).join('&')\r\n}\r\n\r\nexport const toDateFormat = (date: Date) => {\r\n  return date.toISOString().split('T')[0]\r\n}\r\n\r\nexport const toDateFromDays = (date: Date, n: number) => {\r\n  const newDate = new Date(date.getTime())\r\n  newDate.setDate(date.getDate() + n)\r\n  return newDate\r\n}\r\n\r\nexport const getDaysArray = (start: Date, end: Date) => {\r\n  const arr = []\r\n  // eslint-disable-next-line no-unmodified-loop-condition\r\n  for (let dt = new Date(start); dt <= end; dt.setDate(dt.getDate() + 1)) {\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\r\n    // @ts-ignore\r\n    arr.push(new Date(dt))\r\n  }\r\n  return arr\r\n}\r\n\r\nexport const objToArr = <T>(obj: {[key: string]: T}) => {\r\n  return Object.keys(obj).map(key => obj[key])\r\n}\r\n\r\nexport const insertAt = (arr: any[], index: number, newItem: any) => [\r\n  ...arr.slice(0, index),\r\n  newItem,\r\n  ...arr.slice(index)\r\n]\r\n\r\nexport const downloadImage = (url: string) => {\r\n  const fileName = url.substring(url.lastIndexOf('/') + 1)\r\n  saveAs(url, fileName)\r\n}\r\n","export * from \"-!../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/.pnpm/vue-loader@16.8.3_webpack@4.46.0/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.pnpm/vue-loader@16.8.3_webpack@4.46.0/node_modules/vue-loader/dist/index.js??ref--1-1!./TemplateDetail.vue?vue&type=style&index=0&id=484486b2&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/background.3744875e.png\";","export * from \"-!../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/.pnpm/vue-loader@16.8.3_webpack@4.46.0/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.pnpm/vue-loader@16.8.3_webpack@4.46.0/node_modules/vue-loader/dist/index.js??ref--1-1!./TemplateList.vue?vue&type=style&index=0&id=20a7ac0e&lang=css\"","export * from \"-!../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/.pnpm/vue-loader@16.8.3_webpack@4.46.0/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.pnpm/vue-loader@16.8.3_webpack@4.46.0/node_modules/vue-loader/dist/index.js??ref--1-1!./Setting.vue?vue&type=style&index=0&id=2f581a96&lang=css\"","export * from \"-!../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/.pnpm/vue-loader@16.8.3_webpack@4.46.0/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.pnpm/vue-loader@16.8.3_webpack@4.46.0/node_modules/vue-loader/dist/index.js??ref--1-1!./WorksList.vue?vue&type=style&index=0&id=85718e9c&lang=css\"","export * from \"-!../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/.pnpm/vue-loader@16.8.3_webpack@4.46.0/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.pnpm/vue-loader@16.8.3_webpack@4.46.0/node_modules/vue-loader/dist/index.js??ref--1-1!./MyWork.vue?vue&type=style&index=0&id=3b999150&lang=css\"","import request from './fetch';\r\n// 获取邮箱验证码\r\nexport function getVeriCode(emailAddress: string) {\r\n    return request({\r\n        url: '/users/genVeriCode',\r\n        method: 'post',\r\n        data: {\r\n            emailAddress\r\n        }\r\n    });\r\n}\r\n// 登录\r\nexport function login(data: {emailAddress: string; veriCode: string }) {\r\n    return request({\r\n        url: '/users/loginByPhoneNumber',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n// 获取用户信息\r\nexport function getUserInfo() {\r\n    return request({\r\n        url: '/users/getUserInfo',\r\n        method: 'get',\r\n    })\r\n}\r\n// 更新用户信息\r\nexport function updateUserInfo(data) {\r\n    return request({\r\n        url: '/users/updateUserInfo',\r\n        method: 'patch',\r\n        data\r\n    })\r\n}","import { useStore } from 'vuex'\r\nimport { computed, watch } from 'vue'\r\nimport { message } from 'ant-design-vue'\r\nimport { GlobalDataProps } from '../store/index'\r\n\r\nfunction useShowError () {\r\n  const store = useStore<GlobalDataProps>()\r\n  const error = computed(() => store.state.status.error)\r\n  watch(() => error.value.status, (errorValue) => {\r\n    if (errorValue) {\r\n      message.error(error.value.message, 2)\r\n    }\r\n  })\r\n}\r\n\r\nexport default useShowError\r\n","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n  const _component_a_button = _resolveComponent(\"a-button\")!\n  const _component_a_menu_item = _resolveComponent(\"a-menu-item\")!\n  const _component_a_menu = _resolveComponent(\"a-menu\")!\n  const _component_a_dropdown_button = _resolveComponent(\"a-dropdown-button\")!\n\n  return (!_ctx.user.isLogin)\n    ? (_openBlock(), _createBlock(_component_a_button, {\n        key: 0,\n        type: \"primary\",\n        class: \"user-profile-component\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_router_link, { to: \"/login\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"登录\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }))\n    : (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        class: _normalizeClass({ 'user-operation' : !_ctx.smMode })\n      }, [\n        (!_ctx.smMode)\n          ? (_openBlock(), _createBlock(_component_a_button, {\n              key: 0,\n              type: \"primary\",\n              onClick: _ctx.createDesign,\n              style: {\"border-radius\":\"20px\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" 创建设计 \")\n              ]),\n              _: 1\n            }, 8, [\"onClick\"]))\n          : _createCommentVNode(\"\", true),\n        (!_ctx.smMode)\n          ? (_openBlock(), _createBlock(_component_a_button, {\n              key: 1,\n              type: \"primary\",\n              class: \"user-profile-component\",\n              style: {\"border-radius\":\"20px\"}\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_router_link, { to: \"/mywork\" }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\"我的作品\")\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true),\n        _createVNode(_component_a_dropdown_button, { class: \"user-profile-component\" }, {\n          overlay: _withCtx(() => [\n            _createVNode(_component_a_menu, { class: \"user-profile-dropdown\" }, {\n              default: _withCtx(() => [\n                (_ctx.smMode)\n                  ? (_openBlock(), _createBlock(_component_a_menu_item, { key: \"2\" }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_router_link, { to: \"/mywork\" }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(\"我的作品\")\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }))\n                  : _createCommentVNode(\"\", true),\n                _createVNode(_component_a_menu_item, { key: \"3\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_router_link, { to: \"/setting\" }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(\"个人设置\")\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_a_menu_item, {\n                  key: \"4\",\n                  onClick: _ctx.logout\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\"登出\")\n                  ]),\n                  _: 1\n                }, 8, [\"onClick\"])\n              ]),\n              _: 1\n            })\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_component_router_link, { to: \"/setting\" }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(_ctx.user.data.nickName), 1)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ], 2))\n}","\r\nimport { defineComponent, PropType } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\nimport { message } from 'ant-design-vue'\r\nimport { UserProps } from '../store/user'\r\nimport useCreateDesign from '../hooks/useCreateDesign'\r\n\r\nexport default defineComponent({\r\n  name: 'user-profile',\r\n  props: {\r\n    user: {\r\n      type: Object as PropType<UserProps>,\r\n      required: true\r\n    },\r\n    smMode: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  setup () {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    const createDesign = useCreateDesign()\r\n    const logout = () => {\r\n      store.commit('logout')\r\n      message.success('退出登录成功，2秒后跳转到首页', 2)\r\n      setTimeout(() => {\r\n        router.push('/login')\r\n      }, 2000)\r\n    }\r\n    return {\r\n      logout,\r\n      createDesign\r\n    }\r\n  }\r\n})\r\n","import { render } from \"./UserProfile.vue?vue&type=template&id=07615ffd&ts=true\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=ts\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=ts\"\n\nimport \"./UserProfile.vue?vue&type=style&index=0&id=07615ffd&lang=css\"\n\nimport exportComponent from \"D:\\\\code\\\\project\\\\front-end\\\\vue3\\\\posters\\\\node_modules\\\\.pnpm\\\\vue-loader@16.8.3_webpack@4.46.0\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/.pnpm/vue-loader@16.8.3_webpack@4.46.0/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.pnpm/vue-loader@16.8.3_webpack@4.46.0/node_modules/vue-loader/dist/index.js??ref--1-1!./Home.vue?vue&type=style&index=0&id=0c37a22c&lang=css\"","import axios from 'axios'\r\n\r\nconst fetch = axios.create({\r\n    withCredentials: true,\r\n    timeout: 50000,\r\n    baseURL: '/api'\r\n})\r\nfetch.interceptors.request.use(\r\n    async (config) => {\r\n        const token = localStorage.getItem('token');\r\n        if(token) {\r\n            config.headers.Authorization = `Bearer ${token}`\r\n        }\r\n        return config\r\n    },\r\n    (err) => {\r\n        return Promise.reject(err)\r\n    }\r\n)\r\n\r\nfetch.interceptors.response.use(\r\n    (axiosRes) => {\r\n        if (axiosRes.data.result !== 0) {\r\n            return axiosRes.data\r\n        } else {\r\n            return axiosRes.data\r\n        }\r\n    },\r\n    (axiosErr) => {\r\n        return axiosErr.response;\r\n    }\r\n)\r\n\r\nexport default fetch;","export * from \"-!../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/.pnpm/vue-loader@16.8.3_webpack@4.46.0/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.pnpm/vue-loader@16.8.3_webpack@4.46.0/node_modules/vue-loader/dist/index.js??ref--1-1!./UserProfile.vue?vue&type=style&index=0&id=07615ffd&lang=css\"","// 缩小antd体积\n\nimport { Avatar, Button, Spin, Modal, Drawer, Card, Tag,\n  Layout, Tabs, Menu, Row, Col, \n  Form, Dropdown, Input, InputNumber, Slider, Radio, Select } from 'ant-design-vue'\nimport { App } from 'vue'\nconst components = [\n  Avatar,\n  Button,\n  Spin,\n  Modal,\n  Drawer,\n  Card,\n  Card.Meta,\n  Tag,\n  Layout,\n  Layout.Header,\n  Layout.Footer,\n  Layout.Sider,\n  Layout.Content,\n  Tabs,\n  Tabs.TabPane,\n  Menu,\n  Menu.Item,\n  Row,\n  Col,\n  Form,\n  Form.Item,\n  Dropdown,\n  Dropdown.Button,\n  Input,\n  InputNumber,\n  Input.TextArea,\n  Slider,\n  Radio.Group,\n  Radio.Button,\n  Select,\n  Select.Option\n]\nconst install = (app: App) => {\n  components.forEach(component => {\n    app.component(component.name, component)\n  })\n}\nexport default {\n  install\n}\n\n\n\n","<template>\r\n  <div id=\"app\">\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n</style>\r\n","import { render } from \"./App.vue?vue&type=template&id=194229c8\"\nconst script = {}\n\nimport exportComponent from \"D:\\\\code\\\\project\\\\front-end\\\\vue3\\\\posters\\\\node_modules\\\\.pnpm\\\\vue-loader@16.8.3_webpack@4.46.0\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, createVNode as _createVNode, withCtx as _withCtx, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '../assets/logo.png'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6ad93b2b\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"homepage-container\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"page-title\" }, [\n  /*#__PURE__*/_createElementVNode(\"img\", {\n    src: _imports_0,\n    class: \"logo-img\"\n  }),\n  /*#__PURE__*/_createTextVNode(\" 海报大师 \")\n], -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_a_spin = _resolveComponent(\"a-spin\")!\n  const _component_user_profile = _resolveComponent(\"user-profile\")!\n  const _component_a_layout_header = _resolveComponent(\"a-layout-header\")!\n  const _component_router_view = _resolveComponent(\"router-view\")!\n  const _component_a_layout_content = _resolveComponent(\"a-layout-content\")!\n  const _component_a_layout = _resolveComponent(\"a-layout\")!\n  const _component_a_layout_footer = _resolveComponent(\"a-layout-footer\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_ctx.loading)\n      ? (_openBlock(), _createBlock(_component_a_spin, {\n          key: 0,\n          tip: \"读取中\",\n          class: \"editor-spinner\"\n        }))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_component_a_layout, { style: { background: '#fff' } }, {\n      default: _withCtx(() => [\n        _createVNode(_component_a_layout_header, { class: \"header\" }, {\n          default: _withCtx(() => [\n            _hoisted_2,\n            _createVNode(_component_user_profile, { user: _ctx.userInfo }, null, 8, [\"user\"])\n          ]),\n          _: 1\n        }),\n        (_ctx.isHomePage)\n          ? (_openBlock(), _createBlock(_component_a_layout_content, {\n              key: 0,\n              class: \"home-layout\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_router_view)\n              ]),\n              _: 1\n            }))\n          : (_openBlock(), _createBlock(_component_a_layout_content, {\n              key: 1,\n              style: {\"padding\":\"0 50px\"}\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_a_layout, { style: {\"padding\":\"24px 0\",\"background\":\"#fff\"} }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_a_layout_content, { style: {\r\n              padding: '0 24px',\r\n              minHeight: '85vh',\r\n              maxWidth: '1200px',\r\n              margin: '0 auto',\r\n              width: '100%',\r\n            } }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_router_view)\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })),\n        _createVNode(_component_a_layout_footer, null, {\n          default: _withCtx(() => [\n            _createTextVNode(\" © Liang版权所有 | 津TPC备 \")\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ]))\n}","\r\nimport { useStore } from \"vuex\";\r\nimport { defineComponent, computed } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport UserProfile from \"../components/UserProfile.vue\";\r\nimport { GlobalDataProps } from \"../store/index\";\r\nimport useCreateDesign from \"../hooks/useCreateDesign\";\r\nimport showError from \"../hooks/useShowError\";\r\nexport default defineComponent({\r\n  components: {\r\n    UserProfile,\r\n  },\r\n  setup() {\r\n    const store = useStore<GlobalDataProps>();\r\n    const route = useRoute();\r\n    const isHomePage = computed(() => route.name === \"Home\");\r\n    const userInfo = computed(() => store.state.user);\r\n    const loading = computed(() => store.state.status.loading);\r\n    const createDesign = useCreateDesign();\r\n    showError();\r\n    return {\r\n      userInfo,\r\n      createDesign,\r\n      loading,\r\n      isHomePage,\r\n    };\r\n  },\r\n});\r\n","import { render } from \"./Index.vue?vue&type=template&id=6ad93b2b&scoped=true&ts=true\"\nimport script from \"./Index.vue?vue&type=script&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&lang=ts\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=6ad93b2b&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\code\\\\project\\\\front-end\\\\vue3\\\\posters\\\\node_modules\\\\.pnpm\\\\vue-loader@16.8.3_webpack@4.46.0\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6ad93b2b\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createBlock as _createBlock } from \"vue\"\nimport _imports_0 from '../assets/background.png'\n\n\nconst _hoisted_1 = { class: \"homepage-container\" }\nconst _hoisted_2 = { class: \"banner\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"banner-img\",\n  src: _imports_0,\n  style: {\"background-color\":\"rgb(0, 0, 0)\"}\n}, null, -1)\nconst _hoisted_4 = { class: \"banner-text\" }\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-headline\",\n  style: {\"color\":\"rgb(255, 255, 255)\"}\n}, \"海量精彩设计 一键生成\", -1)\nconst _hoisted_6 = { class: \"welcome-container\" }\nconst _hoisted_7 = { class: \"welcome-container-inner\" }\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"专注H5 始终如一\", -1)\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"p\", null, \"三年保持行业领先\", -1)\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"海量 H5 模版\", -1)\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"p\", null, \"一键生成，一分钟轻松制作\", -1)\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"极致体验\", -1)\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"p\", null, \"用户的一致选择\", -1)\nconst _hoisted_14 = { class: \"content-container\" }\nconst _hoisted_15 = { key: 0 }\nconst _hoisted_16 = {\n  key: 2,\n  class: \"hot-title\"\n}\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"h2\", { class: \"hot-template\" }, \"热门海报\", -1)\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"p\", null, \"只需替换文字和图片，一键自动生成H5\", -1)\nconst _hoisted_19 = [\n  _hoisted_17,\n  _hoisted_18\n]\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"span\", null, \" 没找到任何海报 换个关键词试试 \", -1)\nconst _hoisted_21 = {\n  key: 0,\n  class: \"my-works\"\n}\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"我的作品\", -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_a_input_search = _resolveComponent(\"a-input-search\")!\n  const _component_Html5TwoTone = _resolveComponent(\"Html5TwoTone\")!\n  const _component_a_col = _resolveComponent(\"a-col\")!\n  const _component_BuildTwoTone = _resolveComponent(\"BuildTwoTone\")!\n  const _component_BulbTwoTone = _resolveComponent(\"BulbTwoTone\")!\n  const _component_a_row = _resolveComponent(\"a-row\")!\n  const _component_a_button = _resolveComponent(\"a-button\")!\n  const _component_a_empty = _resolveComponent(\"a-empty\")!\n  const _component_template_list = _resolveComponent(\"template-list\")!\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createElementVNode(\"div\", _hoisted_4, [\n        _hoisted_5,\n        _createVNode(_component_a_input_search, {\n          value: _ctx.searchText,\n          \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.searchText) = $event)),\n          placeholder: \"搜索一下，快速找模版\",\n          \"enter-button\": \"\",\n          onSearch: _ctx.onSearch\n        }, null, 8, [\"value\", \"onSearch\"])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _createElementVNode(\"div\", _hoisted_7, [\n        _createVNode(_component_a_row, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_a_col, {\n              span: 8,\n              class: \"feature-item\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_Html5TwoTone),\n                _hoisted_8,\n                _hoisted_9\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_a_col, {\n              span: 8,\n              class: \"feature-item\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_BuildTwoTone),\n                _hoisted_10,\n                _hoisted_11\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_a_col, {\n              span: 8,\n              class: \"feature-item\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_BulbTwoTone),\n                _hoisted_12,\n                _hoisted_13\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_14, [\n      _createVNode(_component_a_row, {\n        class: \"content-title\",\n        type: \"flex\",\n        align: \"middle\"\n      }, {\n        default: _withCtx(() => [\n          (_ctx.currentSearchText)\n            ? (_openBlock(), _createElementBlock(\"h2\", _hoisted_15, _toDisplayString(_ctx.currentSearchText) + \"的结果\", 1))\n            : _createCommentVNode(\"\", true),\n          (_ctx.currentSearchText)\n            ? (_openBlock(), _createBlock(_component_a_button, {\n                key: 1,\n                shape: \"circle\",\n                size: \"small\",\n                style: {marginLeft: '10px'},\n                onClick: _ctx.clearSearch\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" × \")\n                ]),\n                _: 1\n              }, 8, [\"onClick\"]))\n            : (_openBlock(), _createElementBlock(\"div\", _hoisted_16, _hoisted_19))\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_a_row, { gutter: 16 }, {\n        default: _withCtx(() => [\n          (_ctx.templates.length === 0 && !_ctx.loading)\n            ? (_openBlock(), _createBlock(_component_a_empty, { key: 0 }, {\n                description: _withCtx(() => [\n                  _hoisted_20\n                ]),\n                _: 1\n              }))\n            : _createCommentVNode(\"\", true),\n          _createVNode(_component_template_list, {\n            list: _ctx.templates,\n            type: \"template\"\n          }, null, 8, [\"list\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_a_row, {\n        type: \"flex\",\n        justify: \"center\"\n      }, {\n        default: _withCtx(() => [\n          (!_ctx.isLastPage)\n            ? (_openBlock(), _createBlock(_component_a_button, {\n                key: 0,\n                type: \"primary\",\n                size: \"large\",\n                onClick: _ctx.loadMorePage,\n                loading: _ctx.loading\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" 加载更多 \")\n                ]),\n                _: 1\n              }, 8, [\"onClick\", \"loading\"]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _: 1\n      }),\n      (_ctx.isLogin && _ctx.works.length > 0)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [\n            _createVNode(_component_a_row, {\n              type: \"flex\",\n              justify: \"space-between\",\n              align: \"middle\",\n              class: \"content-title\"\n            }, {\n              default: _withCtx(() => [\n                _hoisted_22,\n                _createVNode(_component_router_link, { to: \"/mywork\" }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\"查看我的所有作品\")\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_a_row, { gutter: 16 }, {\n              default: _withCtx(() => [\n                _createVNode(_component_template_list, { list: _ctx.works }, null, 8, [\"list\"])\n              ]),\n              _: 1\n            })\n          ]))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"template-list-component\" }\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = {\n  key: 1,\n  src: \"http://typescript-vue.oss-cn-beijing.aliyuncs.com/vue-marker/5f81cca3f3bf7a0e1ebaf885.png\"\n}\nconst _hoisted_4 = { class: \"hover-item\" }\nconst _hoisted_5 = { class: \"description-detail\" }\nconst _hoisted_6 = { key: 0 }\nconst _hoisted_7 = { class: \"user-number\" }\nconst _hoisted_8 = { class: \"tag-list\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_a_button = _resolveComponent(\"a-button\")!\n  const _component_UserOutlined = _resolveComponent(\"UserOutlined\")!\n  const _component_a_card_meta = _resolveComponent(\"a-card-meta\")!\n  const _component_a_card = _resolveComponent(\"a-card\")!\n  const _component_a_tag = _resolveComponent(\"a-tag\")!\n  const _component_router_link = _resolveComponent(\"router-link\")!\n  const _component_a_col = _resolveComponent(\"a-col\")!\n  const _component_a_row = _resolveComponent(\"a-row\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_a_row, { gutter: 16 }, {\n      default: _withCtx(() => [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.list, (item) => {\n          return (_openBlock(), _createBlock(_component_a_col, {\n            span: 6,\n            key: item.id,\n            class: \"poster-item\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_router_link, {\n                to: (_ctx.type === 'work') ? `/editor/${item.id}` : `/template/${item.id}`\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_a_card, { hoverable: \"\" }, {\n                    cover: _withCtx(() => [\n                      (item.coverImg)\n                        ? (_openBlock(), _createElementBlock(\"img\", {\n                            key: 0,\n                            src: item.coverImg\n                          }, null, 8, _hoisted_2))\n                        : (_openBlock(), _createElementBlock(\"img\", _hoisted_3)),\n                      _createElementVNode(\"div\", _hoisted_4, [\n                        _createVNode(_component_a_button, {\n                          size: \"large\",\n                          type: \"primary\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString((_ctx.type === 'work') ? '编辑该作品': '使用该模版创建'), 1)\n                          ]),\n                          _: 1\n                        })\n                      ])\n                    ]),\n                    default: _withCtx(() => [\n                      _createVNode(_component_a_card_meta, {\n                        title: item.title\n                      }, {\n                        description: _withCtx(() => [\n                          _createElementVNode(\"div\", _hoisted_5, [\n                            (item.user)\n                              ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \"作者：\" + _toDisplayString(item.user.nickName), 1))\n                              : _createCommentVNode(\"\", true),\n                            _createElementVNode(\"span\", _hoisted_7, [\n                              _createVNode(_component_UserOutlined),\n                              _createTextVNode(\" \" + _toDisplayString(item.copiedCount), 1)\n                            ])\n                          ])\n                        ]),\n                        _: 2\n                      }, 1032, [\"title\"])\n                    ]),\n                    _: 2\n                  }, 1024),\n                  _createElementVNode(\"div\", _hoisted_8, [\n                    (item.isHot)\n                      ? (_openBlock(), _createBlock(_component_a_tag, {\n                          key: 0,\n                          color: \"red\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(\" HOT \")\n                          ]),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true),\n                    (item.isNew)\n                      ? (_openBlock(), _createBlock(_component_a_tag, {\n                          key: 1,\n                          color: \"green\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(\" NEW \")\n                          ]),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true)\n                  ])\n                ]),\n                _: 2\n              }, 1032, [\"to\"])\n            ]),\n            _: 2\n          }, 1024))\n        }), 128))\n      ]),\n      _: 1\n    })\n  ]))\n}","\r\nimport { defineComponent, PropType } from 'vue'\r\n// import { UserOutlined } from '@ant-design/icons-vue'\r\nimport { WorkProp } from '../store/works'\r\nexport default defineComponent({\r\n  name: 'template-list',\r\n  components: {\r\n    // UserOutlined\r\n  },\r\n  props: {\r\n    list: {\r\n      type: Array as PropType<WorkProp[]>,\r\n      required: true\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: 'work'\r\n    }\r\n  }\r\n})\r\n","import { render } from \"./TemplateList.vue?vue&type=template&id=20a7ac0e&ts=true\"\nimport script from \"./TemplateList.vue?vue&type=script&lang=ts\"\nexport * from \"./TemplateList.vue?vue&type=script&lang=ts\"\n\nimport \"./TemplateList.vue?vue&type=style&index=0&id=20a7ac0e&lang=css\"\n\nimport exportComponent from \"D:\\\\code\\\\project\\\\front-end\\\\vue3\\\\posters\\\\node_modules\\\\.pnpm\\\\vue-loader@16.8.3_webpack@4.46.0\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { ref, computed, ComputedRef, reactive, toRef } from 'vue'\r\nimport { useStore } from 'vuex'\r\ninterface LoadParams {\r\n  pageIndex: number;\r\n  pageSize: number;\r\n  [key: string]: any;\r\n}\r\n\r\nconst useLoadMore = (actionName: string, total: ComputedRef<number>, params: LoadParams = { pageIndex: 0, pageSize: 8}) => {\r\n  const store = useStore()\r\n  // 变化的参数\r\n  // const pageIndex = ref(params.pageIndex)\r\n  // 请求的参数，根据变化的参数进行更新\r\n  const requestParams = reactive(params)\r\n  const loadMorePage = () => {\r\n    requestParams.pageIndex++\r\n    store.dispatch(actionName, { searchParams: requestParams })\r\n  }\r\n  const goToPage = (index: number) => {\r\n    requestParams.pageIndex = index\r\n    store.dispatch(actionName, { searchParams: requestParams })\r\n  }\r\n  const loadPrevPage = () => {\r\n    requestParams.pageIndex--\r\n    store.dispatch(actionName, { searchParams: requestParams })\r\n  }\r\n  const isFirstPage = computed(() => requestParams.pageIndex === 0)\r\n  const totalPage =computed(() => Math.ceil(total.value / params.pageSize))\r\n  const isLastPage = computed(() => {\r\n    return totalPage.value === requestParams.pageIndex + 1\r\n  })\r\n  const pageIndex = toRef(requestParams, 'pageIndex')\r\n  return {\r\n    loadMorePage,\r\n    isLastPage,\r\n    pageIndex,\r\n    loadPrevPage,\r\n    isFirstPage,\r\n    requestParams,\r\n    goToPage,\r\n    totalPage\r\n  }\r\n}\r\nexport default useLoadMore","\r\nimport { defineComponent, onMounted, computed, ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { GlobalDataProps } from '../store/index'\r\nimport TemplateList from '../components/TemplateList.vue'\r\nimport useLoadMore from '../hooks/useLoadMore'\r\n// import { Html5TwoTone, BuildTwoTone, BulbTwoTone } from '@ant-design/icons-vue'\r\nexport default defineComponent({\r\n  components: {\r\n    TemplateList,\r\n    // Html5TwoTone,\r\n    // BuildTwoTone,\r\n    // BulbTwoTone\r\n  },\r\n  setup () {\r\n    const store = useStore<GlobalDataProps>()\r\n    const searchText = ref('')\r\n    const isLogin = computed(() => store.state.user.isLogin)\r\n    const works = computed(() => store.state.works.works)\r\n    const templates = computed(() => store.state.works.templates)\r\n    const total = computed(() => store.state.works.totalTemplates)\r\n    const loading = computed(() => store.state.status.loading)\r\n    const currentSearchText = computed(() => store.state.works.searchText)\r\n    const { loadMorePage, isLastPage } = useLoadMore('fetchTemplates', total, { pageIndex: 0, pageSize: 8, title: searchText.value })\r\n    const onSearch = () => {\r\n      const title = searchText.value.trim()\r\n      if (title !== '' || currentSearchText.value !== '') {\r\n        store.dispatch('fetchTemplates', { title, pageIndex: 0, pageSize: 8 })\r\n      }\r\n    }\r\n    const clearSearch = () => {\r\n      store.dispatch('fetchTemplates', { title: '', pageIndex: 0, pageSize: 8 })\r\n    }\r\n    onMounted(() => {\r\n      if (isLogin.value) {\r\n        store.dispatch('fetchWorks', { pageIndex: 0, pageSize: 4 })\r\n      }\r\n      store.dispatch('fetchTemplates', { pageIndex: 0, pageSize: 8 })\r\n    })\r\n    return {\r\n      isLogin,\r\n      works,\r\n      templates,\r\n      loadMorePage,\r\n      loading,\r\n      isLastPage,\r\n      searchText,\r\n      onSearch,\r\n      currentSearchText,\r\n      clearSearch\r\n    }\r\n  }\r\n})\r\n","import { render } from \"./Home.vue?vue&type=template&id=0c37a22c&ts=true\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=0c37a22c&lang=css\"\n\nimport exportComponent from \"D:\\\\code\\\\project\\\\front-end\\\\vue3\\\\posters\\\\node_modules\\\\.pnpm\\\\vue-loader@16.8.3_webpack@4.46.0\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"mywork-container\" }\nconst _hoisted_2 = {\n  id: \"main-chart\",\n  style: {width: '600px', height: '400px'}\n}\nconst _hoisted_3 = {\n  key: 0,\n  class: \"searchResult\"\n}\nconst _hoisted_4 = { key: 1 }\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"span\", null, \" 还没有任何作品 \", -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_a_range_picker = _resolveComponent(\"a-range-picker\")!\n  const _component_a_spin = _resolveComponent(\"a-spin\")!\n  const _component_a_table = _resolveComponent(\"a-table\")!\n  const _component_a_modal = _resolveComponent(\"a-modal\")!\n  const _component_a_button = _resolveComponent(\"a-button\")!\n  const _component_a_input_search = _resolveComponent(\"a-input-search\")!\n  const _component_a_row = _resolveComponent(\"a-row\")!\n  const _component_a_tab_pane = _resolveComponent(\"a-tab-pane\")!\n  const _component_a_tabs = _resolveComponent(\"a-tabs\")!\n  const _component_a_empty = _resolveComponent(\"a-empty\")!\n  const _component_works_list = _resolveComponent(\"works-list\")!\n  const _component_a_pagination = _resolveComponent(\"a-pagination\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_a_modal, {\n      title: \"数据统计\",\n      visible: _ctx.showModal,\n      \"onUpdate:visible\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.showModal) = $event)),\n      width: \"700px\",\n      footer: null\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_a_range_picker, {\n          value: _ctx.dateRange,\n          onChange: _ctx.onDateChange,\n          format: \"YYYY-MM-DD\"\n        }, null, 8, [\"value\", \"onChange\"]),\n        _createElementVNode(\"div\", _hoisted_2, [\n          (_ctx.loading)\n            ? (_openBlock(), _createBlock(_component_a_spin, {\n                key: 0,\n                size: \"large\",\n                class: \"chart-loading\"\n              }))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _createVNode(_component_a_table, {\n          columns: _ctx.tableColumns,\n          \"data-source\": _ctx.tableData\n        }, null, 8, [\"columns\", \"data-source\"])\n      ]),\n      _: 1\n    }, 8, [\"visible\"]),\n    _createVNode(_component_a_row, {\n      type: \"flex\",\n      justify: \"space-between\",\n      align: \"middle\",\n      class: \"poster-title\"\n    }, {\n      default: _withCtx(() => [\n        (_ctx.currentSearchText)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n              _createElementVNode(\"h2\", null, _toDisplayString(_ctx.currentSearchText) + \"的结果\", 1),\n              _createVNode(_component_a_button, {\n                shape: \"circle\",\n                size: \"small\",\n                style: {marginLeft: '10px'},\n                onClick: _ctx.clearSearch\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" × \")\n                ]),\n                _: 1\n              }, 8, [\"onClick\"])\n            ]))\n          : (_openBlock(), _createElementBlock(\"h2\", _hoisted_4, \"我的作品和模版\")),\n        _createVNode(_component_a_input_search, {\n          value: _ctx.searchText,\n          \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.searchText) = $event)),\n          placeholder: \"搜索我的作品或者模版\",\n          onSearch: _ctx.onSearch\n        }, null, 8, [\"value\", \"onSearch\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_a_tabs, { onChange: _ctx.changeCategory }, {\n      default: _withCtx(() => [\n        _createVNode(_component_a_tab_pane, {\n          key: \"0\",\n          tab: \"我的作品\"\n        }),\n        _createVNode(_component_a_tab_pane, {\n          key: \"1\",\n          tab: \"我的模版\"\n        })\n      ]),\n      _: 1\n    }, 8, [\"onChange\"]),\n    (_ctx.works.length === 0 && !_ctx.loading)\n      ? (_openBlock(), _createBlock(_component_a_empty, { key: 0 }, {\n          description: _withCtx(() => [\n            _hoisted_5\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_component_a_button, {\n              type: \"primary\",\n              size: \"large\",\n              onClick: _ctx.createDesign\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" 创建你的第一个设计 🎉 \")\n              ]),\n              _: 1\n            }, 8, [\"onClick\"])\n          ]),\n          _: 1\n        }))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_component_works_list, {\n      list: _ctx.works,\n      onOnDelete: _ctx.onDelete,\n      onOnCopy: _ctx.onCopy,\n      loading: _ctx.loading,\n      onOnStatic: _ctx.openStatic,\n      onOnSend: _ctx.sendGift,\n      \"transfer-status\": _ctx.transferDone\n    }, null, 8, [\"list\", \"onOnDelete\", \"onOnCopy\", \"loading\", \"onOnStatic\", \"onOnSend\", \"transfer-status\"]),\n    _createVNode(_component_a_row, {\n      type: \"flex\",\n      justify: \"center\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_a_pagination, {\n          current: _ctx.currentPage,\n          \"onUpdate:current\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.currentPage) = $event)),\n          total: _ctx.total,\n          pageSize: 8,\n          \"show-less-items\": \"\",\n          onChange: _ctx.pageChange\n        }, null, 8, [\"current\", \"total\", \"onChange\"])\n      ]),\n      _: 1\n    })\n  ]))\n}","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, withModifiers as _withModifiers } from \"vue\"\n\nconst _hoisted_1 = { class: \"template-list-component\" }\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = {\n  key: 1,\n  src: \"http://typescript-vue.oss-cn-beijing.aliyuncs.com/vue-marker/5f81cca3f3bf7a0e1ebaf885.png\"\n}\nconst _hoisted_4 = { class: \"hover-item\" }\nconst _hoisted_5 = [\"id\"]\nconst _hoisted_6 = [\"onClick\"]\nconst _hoisted_7 = [\"onClick\"]\nconst _hoisted_8 = [\"onClick\"]\nconst _hoisted_9 = [\"onClick\"]\nconst _hoisted_10 = [\"onClick\"]\nconst _hoisted_11 = { class: \"tag-list\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_UserOutlined = _resolveComponent(\"UserOutlined\")!\n  const _component_a_input = _resolveComponent(\"a-input\")!\n  const _component_a_form_item = _resolveComponent(\"a-form-item\")!\n  const _component_a_button = _resolveComponent(\"a-button\")!\n  const _component_a_form = _resolveComponent(\"a-form\")!\n  const _component_a_modal = _resolveComponent(\"a-modal\")!\n  const _component_a_skeleton = _resolveComponent(\"a-skeleton\")!\n  const _component_router_link = _resolveComponent(\"router-link\")!\n  const _component_EditOutlined = _resolveComponent(\"EditOutlined\")!\n  const _component_BarChartOutlined = _resolveComponent(\"BarChartOutlined\")!\n  const _component_EllipsisOutlined = _resolveComponent(\"EllipsisOutlined\")!\n  const _component_CopyOutlined = _resolveComponent(\"CopyOutlined\")!\n  const _component_a_menu_item = _resolveComponent(\"a-menu-item\")!\n  const _component_DeleteOutlined = _resolveComponent(\"DeleteOutlined\")!\n  const _component_DownloadOutlined = _resolveComponent(\"DownloadOutlined\")!\n  const _component_GiftOutlined = _resolveComponent(\"GiftOutlined\")!\n  const _component_a_menu = _resolveComponent(\"a-menu\")!\n  const _component_a_dropdown = _resolveComponent(\"a-dropdown\")!\n  const _component_a_card_meta = _resolveComponent(\"a-card-meta\")!\n  const _component_a_card = _resolveComponent(\"a-card\")!\n  const _component_a_tag = _resolveComponent(\"a-tag\")!\n  const _component_a_col = _resolveComponent(\"a-col\")!\n  const _component_a_row = _resolveComponent(\"a-row\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_a_modal, {\n      title: \"转赠作品\",\n      visible: _ctx.sendModal,\n      \"onUpdate:visible\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.sendModal) = $event)),\n      footer: null\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_a_form, {\n          model: _ctx.form,\n          rules: _ctx.rules,\n          ref: \"publishForm\",\n          layout: \"vertical\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_a_form_item, {\n              label: \"用户名\",\n              required: \"\",\n              name: \"username\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_a_input, {\n                  value: _ctx.form.username,\n                  \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.form.username) = $event)),\n                  placeholder: \"填写要转赠人的用户名\"\n                }, {\n                  prefix: _withCtx(() => [\n                    _createVNode(_component_UserOutlined, { style: {\"color\":\"rgba(0,0,0,.25)\"} })\n                  ]),\n                  _: 1\n                }, 8, [\"value\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_a_form_item, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_a_button, {\n                  type: \"primary\",\n                  onClick: _ctx.sendGift,\n                  size: \"large\",\n                  loading: _ctx.loading\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(_ctx.loading ? '加载中' : '转赠该作品'), 1)\n                  ]),\n                  _: 1\n                }, 8, [\"onClick\", \"loading\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"model\", \"rules\"])\n      ]),\n      _: 1\n    }, 8, [\"visible\"]),\n    (_ctx.loading)\n      ? (_openBlock(), _createBlock(_component_a_skeleton, { key: 0 }))\n      : (_openBlock(), _createBlock(_component_a_row, {\n          key: 1,\n          gutter: 16\n        }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.listWithBarcode, (item) => {\n              return (_openBlock(), _createBlock(_component_a_col, {\n                span: 6,\n                key: item.id,\n                class: \"poster-item\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_a_card, {\n                    hoverable: \"\",\n                    onMouseenter: () => _ctx.showBarcode(item.id, item.barcodeUrl)\n                  }, {\n                    cover: _withCtx(() => [\n                      (item.coverImg)\n                        ? (_openBlock(), _createElementBlock(\"img\", {\n                            key: 0,\n                            src: item.coverImg\n                          }, null, 8, _hoisted_2))\n                        : (_openBlock(), _createElementBlock(\"img\", _hoisted_3)),\n                      _createElementVNode(\"div\", _hoisted_4, [\n                        (item.status === '2')\n                          ? (_openBlock(), _createElementBlock(\"div\", {\n                              key: 0,\n                              id: `barcode-${item.id}`,\n                              class: \"barcode-container\"\n                            }, null, 8, _hoisted_5))\n                          : (_openBlock(), _createBlock(_component_router_link, {\n                              key: 1,\n                              to: `/editor/${item.id}`\n                            }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_a_button, {\n                                  size: \"large\",\n                                  type: \"primary\"\n                                }, {\n                                  default: _withCtx(() => [\n                                    _createTextVNode(\"继续编辑该作品\")\n                                  ]),\n                                  _: 1\n                                })\n                              ]),\n                              _: 2\n                            }, 1032, [\"to\"]))\n                      ])\n                    ]),\n                    actions: _withCtx(() => [\n                      _createVNode(_component_router_link, {\n                        to: `/editor/${item.id}`\n                      }, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_EditOutlined, { key: \"edit\" })\n                        ]),\n                        _: 2\n                      }, 1032, [\"to\"]),\n                      (item.status === '2')\n                        ? (_openBlock(), _createElementBlock(\"a\", {\n                            key: 0,\n                            href: \"javascript:;\",\n                            onClick: _withModifiers(($event: any) => (_ctx.staticClicked(item.id)), [\"prevent\"])\n                          }, [\n                            _createVNode(_component_BarChartOutlined, { key: \"chart\" })\n                          ], 8, _hoisted_6))\n                        : _createCommentVNode(\"\", true),\n                      _createVNode(_component_a_dropdown, null, {\n                        overlay: _withCtx(() => [\n                          _createVNode(_component_a_menu, { class: \"overlay-dropdown\" }, {\n                            default: _withCtx(() => [\n                              _createVNode(_component_a_menu_item, null, {\n                                default: _withCtx(() => [\n                                  _createElementVNode(\"a\", {\n                                    href: \"javascript:;\",\n                                    onClick: _withModifiers(($event: any) => (_ctx.copyClicked(item.id)), [\"prevent\"])\n                                  }, [\n                                    _createVNode(_component_CopyOutlined),\n                                    _createTextVNode(\" 复制\")\n                                  ], 8, _hoisted_7)\n                                ]),\n                                _: 2\n                              }, 1024),\n                              _createVNode(_component_a_menu_item, null, {\n                                default: _withCtx(() => [\n                                  _createElementVNode(\"a\", {\n                                    href: \"javascript:;\",\n                                    onClick: _withModifiers(($event: any) => (_ctx.deleteClicked(item.id)), [\"prevent\"])\n                                  }, [\n                                    _createVNode(_component_DeleteOutlined),\n                                    _createTextVNode(\" 删除\")\n                                  ], 8, _hoisted_8)\n                                ]),\n                                _: 2\n                              }, 1024),\n                              (item.coverImg)\n                                ? (_openBlock(), _createBlock(_component_a_menu_item, { key: 0 }, {\n                                    default: _withCtx(() => [\n                                      _createElementVNode(\"a\", {\n                                        href: \"javascript:;\",\n                                        onClick: _withModifiers(($event: any) => (_ctx.saveImage(item.coverImg)), [\"prevent\"])\n                                      }, [\n                                        _createVNode(_component_DownloadOutlined),\n                                        _createTextVNode(\" 下载图片\")\n                                      ], 8, _hoisted_9)\n                                    ]),\n                                    _: 2\n                                  }, 1024))\n                                : _createCommentVNode(\"\", true),\n                              _createVNode(_component_a_menu_item, null, {\n                                default: _withCtx(() => [\n                                  _createElementVNode(\"a\", {\n                                    href: \"javascript:;\",\n                                    onClick: _withModifiers(($event: any) => (_ctx.sendClicked(item.id)), [\"prevent\"])\n                                  }, [\n                                    _createVNode(_component_GiftOutlined),\n                                    _createTextVNode(\" 转赠\")\n                                  ], 8, _hoisted_10)\n                                ]),\n                                _: 2\n                              }, 1024)\n                            ]),\n                            _: 2\n                          }, 1024)\n                        ]),\n                        default: _withCtx(() => [\n                          _createVNode(_component_EllipsisOutlined, { key: \"ellipsis\" })\n                        ]),\n                        _: 2\n                      }, 1024)\n                    ]),\n                    default: _withCtx(() => [\n                      _createVNode(_component_a_card_meta, {\n                        title: item.title\n                      }, null, 8, [\"title\"])\n                    ]),\n                    _: 2\n                  }, 1032, [\"onMouseenter\"]),\n                  _createElementVNode(\"div\", _hoisted_11, [\n                    (item.status === '1')\n                      ? (_openBlock(), _createBlock(_component_a_tag, {\n                          key: 0,\n                          color: \"red\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(\" 未发布 \")\n                          ]),\n                          _: 1\n                        }))\n                      : (_openBlock(), _createBlock(_component_a_tag, {\n                          key: 1,\n                          color: \"green\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(\" 已发布 \")\n                          ]),\n                          _: 1\n                        }))\n                  ])\n                ]),\n                _: 2\n              }, 1024))\n            }), 128))\n          ]),\n          _: 1\n        }))\n  ]))\n}","\r\nimport { defineComponent, PropType, computed, ref, nextTick, reactive, Ref, watch } from 'vue'\r\n// import { EditOutlined, BarChartOutlined, EllipsisOutlined, CopyOutlined, DeleteOutlined, GiftOutlined, UserOutlined, DownloadOutlined } from '@ant-design/icons-vue'\r\n// eslint-disable-next-line @typescript-eslint/ban-ts-ignore\r\n// @ts-ignore\r\nimport QRCode from 'qrcodejs2'\r\nimport { WorkProp } from '../store/works'\r\nimport { Modal } from 'ant-design-vue'\r\nimport { baseH5URL } from '../main'\r\nimport { RuleFormInstance } from '../views/Setting.vue'\r\nimport { downloadImage } from '../helper'\r\nexport default defineComponent({\r\n  name: 'works-list',\r\n  emits: ['on-copy', 'on-delete', 'on-static', 'on-send'],\r\n  components: {\r\n    // EditOutlined,\r\n    // BarChartOutlined,\r\n    // EllipsisOutlined,\r\n    // CopyOutlined,\r\n    // DeleteOutlined,\r\n    // GiftOutlined,\r\n    // UserOutlined,\r\n    // DownloadOutlined\r\n  },\r\n  props: {\r\n    list: {\r\n      type: Array as PropType<WorkProp[]>,\r\n      required: true\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    transferStatus: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  setup (props, context) {\r\n    const container = ref<null | HTMLElement>(null)\r\n    const sendModal = ref(false)\r\n    const currentItem = ref(0)\r\n    const publishForm = ref() as Ref<RuleFormInstance>\r\n    const listWithBarcode = computed(() => {\r\n      return props.list.map(item => {\r\n        item.barcodeUrl = `${baseH5URL}/p/${item.id}-${item.uuid}`\r\n        return item\r\n      })\r\n    })\r\n    watch(() => props.transferStatus, () => {\r\n      if (props.transferStatus) {\r\n        sendModal.value = false\r\n      }\r\n    })\r\n    const form = reactive({\r\n      username: ''\r\n    })\r\n    const rules = {\r\n      username: [\r\n        { required: true, message: '用户昵称不能为空', trigger: 'blur' }\r\n      ]\r\n    }\r\n    const showBarcode = (id: number, url?: string) => {\r\n      nextTick(() => {\r\n        const container = document.getElementById(`barcode-${id}`)\r\n        if (container && url && !container.hasChildNodes()) {\r\n          // eslint-disable-next-line no-new\r\n          new QRCode(container, {\r\n            text: url,\r\n            width: 80,\r\n            height: 80\r\n          })\r\n        }\r\n      })\r\n    }\r\n    const deleteClicked = (id: number) => {\r\n      Modal.confirm({\r\n        title: '确定要删除该作品吗？',\r\n        okText: '删除',\r\n        okType: 'danger',\r\n        cancelText: '取消',\r\n        onOk: () => {\r\n          context.emit('on-delete', id)\r\n        }\r\n      })\r\n    }\r\n    const copyClicked = (id: number) => {\r\n      context.emit('on-copy', id)\r\n    }\r\n    const staticClicked = (id: number) => {\r\n      context.emit('on-static', id)\r\n    }\r\n    const saveImage = (url: string) => {\r\n      downloadImage(url)\r\n    }\r\n    const sendClicked = (id: number) => {\r\n      sendModal.value = true\r\n      currentItem.value = id\r\n    }\r\n    const sendGift = () => {\r\n      publishForm.value.validate().then(() => {\r\n        context.emit('on-send', { id: currentItem.value, username: form.username })\r\n      })\r\n    }\r\n    return {\r\n      deleteClicked,\r\n      copyClicked,\r\n      listWithBarcode,\r\n      showBarcode,\r\n      container,\r\n      staticClicked,\r\n      sendClicked,\r\n      sendModal,\r\n      publishForm,\r\n      rules,\r\n      form,\r\n      sendGift,\r\n      saveImage\r\n    }\r\n  }\r\n})\r\n","import { render } from \"./WorksList.vue?vue&type=template&id=85718e9c&ts=true\"\nimport script from \"./WorksList.vue?vue&type=script&lang=ts\"\nexport * from \"./WorksList.vue?vue&type=script&lang=ts\"\n\nimport \"./WorksList.vue?vue&type=style&index=0&id=85718e9c&lang=css\"\n\nimport exportComponent from \"D:\\\\code\\\\project\\\\front-end\\\\vue3\\\\posters\\\\node_modules\\\\.pnpm\\\\vue-loader@16.8.3_webpack@4.46.0\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\r\nimport { defineComponent, computed, onMounted, ref, nextTick } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\n// import echarts from 'echarts/lib/echarts'\r\n// import 'echarts/lib/chart/line'\r\nimport { GlobalDataProps } from '../store/index'\r\nimport WorksList from '../components/WorksList.vue'\r\nimport useCreateDesign from '../hooks/useCreateDesign'\r\nimport { toDateFormat, toDateFromDays, getDaysArray, objToArr } from '../helper'\r\nimport { message } from 'ant-design-vue'\r\nexport default defineComponent({\r\n  components: {\r\n    WorksList\r\n  },\r\n  setup () {\r\n    const store = useStore<GlobalDataProps>()\r\n    const router = useRouter()\r\n    const works = computed(() => store.state.works.works)\r\n    const total = computed(() => store.state.works.totalWorks)\r\n    const loading = computed(() => store.state.status.loading)\r\n    const statics = computed(() => store.state.works.statics)\r\n    const channels = computed(() => store.state.editor.channels)\r\n    const currentPage = ref(1)\r\n    const transferDone = ref(false)\r\n    const dateRange = ref([toDateFormat(toDateFromDays(new Date(), -30)), toDateFormat(new Date())])\r\n    const dateArray = computed(() => getDaysArray(new Date(dateRange.value[0]), new Date(dateRange.value[1])))\r\n    const dateArrayFormat = dateArray.value.map(date => toDateFormat(date))\r\n    const staticOptions = computed(() => {\r\n      const legend = statics.value.map(stat => stat.name)\r\n      const xAxis = {\r\n        type: 'category',\r\n        data: dateArrayFormat\r\n      }\r\n      const series = statics.value.map(stat => {\r\n        const statMap = {} as any\r\n        stat.list.forEach(i => {\r\n          const key = i.eventDate.split('T')[0]\r\n          statMap[key] = i.eventData.pv\r\n        })\r\n        const dateArrayFormatMap = {} as any\r\n        dateArrayFormat.forEach(date => {\r\n          if (statMap[date]) {\r\n            dateArrayFormatMap[date] = statMap[date]\r\n          } else {\r\n            dateArrayFormatMap[date] = 0\r\n          }\r\n        })\r\n        return {\r\n          type: 'line',\r\n          name: stat.name,\r\n          data: objToArr(dateArrayFormatMap)\r\n        }\r\n      })\r\n      return {\r\n        legend: {\r\n          data: legend\r\n        },\r\n        xAxis,\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series\r\n      }\r\n    })\r\n    const tableColumns = [\r\n      {\r\n        title: '渠道名称',\r\n        dataIndex: 'name',\r\n        key: 'name'\r\n      },\r\n      {\r\n        title: 'PV',\r\n        dataIndex: 'pv',\r\n        key: 'pv'\r\n      },\r\n      {\r\n        title: '占比',\r\n        dataIndex: 'percent',\r\n        key: 'percent'\r\n      }\r\n    ]\r\n    const totalPv = computed(() => {\r\n      let total = 0\r\n      statics.value.forEach(stat => {\r\n        const pv = stat.list.reduce((prev, current) => current.eventData.pv + prev, 0)\r\n        total += pv\r\n      })\r\n      return total\r\n    })\r\n    const tableData = computed(() => {\r\n      return statics.value.map(stat => {\r\n        const pv = stat.list.reduce((prev, current) => current.eventData.pv + prev, 0)\r\n        return {\r\n          name: stat.name,\r\n          key: stat.id,\r\n          pv,\r\n          percent: (pv / totalPv.value) * 100 + '%'\r\n        }\r\n      })\r\n    })\r\n    const searchText = ref('')\r\n    const showModal = ref(false)\r\n    const currentStaticId = ref(0)\r\n    const isTemplate = ref(0)\r\n    const currentSearchText = computed(() => store.state.works.searchText)\r\n    const createDesign = useCreateDesign()\r\n    let myChart: any\r\n    onMounted(() => {\r\n      store.dispatch('fetchWorks')\r\n    })\r\n    const onSearch = () => {\r\n      const title = searchText.value.trim()\r\n      if (title !== '') {\r\n        store.dispatch('fetchWorks', { title, pageIndex: 0, pageSize: 8, isTemplate: isTemplate.value })\r\n      }\r\n    }\r\n    const clearSearch = () => {\r\n      store.dispatch('fetchWorks', { title: '', pageIndex: 0, pageSize: 8, isTemplate: isTemplate.value })\r\n    }\r\n    const onDelete = (id: number) => {\r\n      store.dispatch('deleteWork', id)\r\n    }\r\n    const onCopy = (id: number) => {\r\n      store.dispatch('copyWork', id).then(({ data }) => {\r\n        router.push(`/editor/${data.id}`)\r\n      })\r\n    }\r\n    const sendGift = (data: { id: number; username: string}) => {\r\n      store.dispatch('transferWork', data).then((data) => {\r\n        console.log(data)\r\n        if (data.errno !== 0) {\r\n          message.error(data.message)\r\n        } else {\r\n          message.success('转赠作品成功')\r\n          transferDone.value = true\r\n        }\r\n      })\r\n    }\r\n    const changeCategory = (key: any) => {\r\n      isTemplate.value = key\r\n      currentPage.value = 1\r\n      nextTick(() => {\r\n        store.dispatch('fetchWorks', { title: '', pageIndex: (currentPage.value - 1), pageSize: 8, isTemplate: isTemplate.value })\r\n      })\r\n    }\r\n    const pageChange = () => {\r\n      store.dispatch('fetchWorks', { title: currentSearchText.value, pageIndex: (currentPage.value - 1), pageSize: 8, isTemplate: isTemplate.value })\r\n    }\r\n    const getChannelStatic = (id: number) => {\r\n      store.commit('clearStatic')\r\n      store.dispatch('getChannels', id).then(() => {\r\n        const promiseArr = channels.value.map(channel => {\r\n          return store.dispatch('fetchStatic', {\r\n            name: channel.name,\r\n            label: id,\r\n            value: channel.id,\r\n            startDate: dateRange.value[0],\r\n            endDate: dateRange.value[1]\r\n          })\r\n        })\r\n        return Promise.all(promiseArr)\r\n      }).then(() => {\r\n        if (!myChart) {\r\n          // myChart = echarts.init(document.getElementById('main-chart'))\r\n        }\r\n        myChart.clear()\r\n        myChart.setOption(staticOptions.value)\r\n      })\r\n    }\r\n    const openStatic = (id: number) => {\r\n      showModal.value = true\r\n      currentStaticId.value = id\r\n      getChannelStatic(id)\r\n    }\r\n    const onDateChange = (newDate: string, dateString: string) => {\r\n      dateRange.value[0] = dateString[0]\r\n      dateRange.value[1] = dateString[1]\r\n      getChannelStatic(currentStaticId.value)\r\n    }\r\n    return {\r\n      works,\r\n      onDelete,\r\n      onCopy,\r\n      createDesign,\r\n      loading,\r\n      searchText,\r\n      currentSearchText,\r\n      onSearch,\r\n      clearSearch,\r\n      openStatic,\r\n      showModal,\r\n      onDateChange,\r\n      dateRange,\r\n      tableData,\r\n      tableColumns,\r\n      total,\r\n      currentPage,\r\n      pageChange,\r\n      changeCategory,\r\n      sendGift,\r\n      transferDone\r\n    }\r\n  }\r\n})\r\n","import { render } from \"./MyWork.vue?vue&type=template&id=3b999150&ts=true\"\nimport script from \"./MyWork.vue?vue&type=script&lang=ts\"\nexport * from \"./MyWork.vue?vue&type=script&lang=ts\"\n\nimport \"./MyWork.vue?vue&type=style&index=0&id=3b999150&lang=css\"\n\nimport exportComponent from \"D:\\\\code\\\\project\\\\front-end\\\\vue3\\\\posters\\\\node_modules\\\\.pnpm\\\\vue-loader@16.8.3_webpack@4.46.0\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-484486b2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"work-detail-container\" }\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = { class: \"author\" }\nconst _hoisted_4 = { class: \"bar-code-area\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"扫一扫，手机预览\", -1))\nconst _hoisted_6 = { ref: \"container\" }\nconst _hoisted_7 = { class: \"use-button\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_a_col = _resolveComponent(\"a-col\")!\n  const _component_a_avatar = _resolveComponent(\"a-avatar\")!\n  const _component_UserOutlined = _resolveComponent(\"UserOutlined\")!\n  const _component_a_button = _resolveComponent(\"a-button\")!\n  const _component_a_row = _resolveComponent(\"a-row\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_a_row, {\n      type: \"flex\",\n      justify: \"center\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_a_col, {\n          span: 8,\n          class: \"cover-img\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"img\", {\n              src: _ctx.currentTemplate.coverImg,\n              alt: \"\"\n            }, null, 8, _hoisted_2)\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_a_col, { span: 8 }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"h2\", null, _toDisplayString(_ctx.currentTemplate.title), 1),\n            _createElementVNode(\"p\", null, _toDisplayString(_ctx.currentTemplate.desc), 1),\n            _createElementVNode(\"div\", _hoisted_3, [\n              (_ctx.currentTemplate.user.picture)\n                ? (_openBlock(), _createBlock(_component_a_avatar, {\n                    key: 0,\n                    src: _ctx.currentTemplate.user.picture\n                  }, null, 8, [\"src\"]))\n                : (_openBlock(), _createBlock(_component_a_avatar, { key: 1 }, {\n                    icon: _withCtx(() => [\n                      _createVNode(_component_UserOutlined)\n                    ]),\n                    _: 1\n                  })),\n              _createTextVNode(\" 该模版由 \"),\n              _createElementVNode(\"b\", null, _toDisplayString(_ctx.currentTemplate.user.nickName), 1),\n              _createTextVNode(\" 创作 \")\n            ]),\n            _createElementVNode(\"div\", _hoisted_4, [\n              _hoisted_5,\n              _createElementVNode(\"div\", _hoisted_6, null, 512)\n            ]),\n            _createElementVNode(\"div\", _hoisted_7, [\n              _createVNode(_component_a_button, {\n                type: \"primary\",\n                size: \"large\",\n                onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.onCopy(_ctx.currentTemplate.id))),\n                loading: _ctx.isCreating\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(_ctx.isCreating ? '创建中...' : '使用模版'), 1)\n                ]),\n                _: 1\n              }, 8, [\"loading\"]),\n              _createVNode(_component_a_button, {\n                size: \"large\",\n                style: { marginLeft: '20px' },\n                onClick: _ctx.download\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" 下载图片海报 \")\n                ]),\n                _: 1\n              }, 8, [\"onClick\"])\n            ])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ]))\n}","\r\nimport { defineComponent, ref, onMounted, computed } from 'vue'\r\n// import { UserOutlined } from '@ant-design/icons-vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport QRCode from 'qrcodejs2'\r\nimport { GlobalDataProps } from '../store/index'\r\nimport { WorkProp } from '../store/works'\r\nimport { baseH5URL } from '../main'\r\nimport { downloadImage } from '../helper'\r\nexport default defineComponent({\r\n  name: 'TemplateDetail',\r\n  components: {\r\n    // UserOutlined\r\n  },\r\n  setup () {\r\n    const store = useStore<GlobalDataProps>()\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const isCreating = ref(false)\r\n    const currentTemplateId = route.params.id\r\n    const container = ref<null | HTMLElement>(null)\r\n    const currentTemplate = computed<WorkProp>(() => store.getters.getCurrentTemplate(currentTemplateId) || { user: '' })\r\n    const channelURL = computed(() => `${baseH5URL}/p/${currentTemplate.value.id}-${currentTemplate.value.uuid}`)\r\n    const onCopy = (id: number) => {\r\n      if (store.state.user.isLogin) {\r\n        isCreating.value = true\r\n        store.dispatch('copyWork', id).then(({ data }) => {\r\n          router.push(`/editor/${data.id}`)\r\n        })\r\n      } else {\r\n        router.push('/login')\r\n      }\r\n    }\r\n    const download = () => {\r\n      downloadImage(currentTemplate.value.coverImg)\r\n    }\r\n    onMounted(() => {\r\n      store.dispatch('fetchTemplate', currentTemplateId).then(() => {\r\n        if (container.value) {\r\n          // eslint-disable-next-line no-new\r\n          new QRCode(container.value, {\r\n            text: channelURL.value,\r\n            width: 120,\r\n            height: 120\r\n          })\r\n        }\r\n      })\r\n    })\r\n    return {\r\n      container,\r\n      currentTemplate,\r\n      isCreating,\r\n      onCopy,\r\n      download\r\n    }\r\n  }\r\n})\r\n","import { render } from \"./TemplateDetail.vue?vue&type=template&id=484486b2&scoped=true&ts=true\"\nimport script from \"./TemplateDetail.vue?vue&type=script&lang=ts\"\nexport * from \"./TemplateDetail.vue?vue&type=script&lang=ts\"\n\nimport \"./TemplateDetail.vue?vue&type=style&index=0&id=484486b2&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\code\\\\project\\\\front-end\\\\vue3\\\\posters\\\\node_modules\\\\.pnpm\\\\vue-loader@16.8.3_webpack@4.46.0\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-484486b2\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"setting-container\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"个人中心👤\", -1)\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"p\", null, \"你可以在这里修改昵称和头像\", -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_styled_uploader = _resolveComponent(\"styled-uploader\")!\n  const _component_UserOutlined = _resolveComponent(\"UserOutlined\")!\n  const _component_a_input = _resolveComponent(\"a-input\")!\n  const _component_a_form_item = _resolveComponent(\"a-form-item\")!\n  const _component_a_radio_button = _resolveComponent(\"a-radio-button\")!\n  const _component_a_radio_group = _resolveComponent(\"a-radio-group\")!\n  const _component_a_button = _resolveComponent(\"a-button\")!\n  const _component_a_form = _resolveComponent(\"a-form\")!\n  const _component_a_col = _resolveComponent(\"a-col\")!\n  const _component_a_row = _resolveComponent(\"a-row\")!\n  const _component_a_tab_pane = _resolveComponent(\"a-tab-pane\")!\n  const _component_a_table = _resolveComponent(\"a-table\")!\n  const _component_a_tabs = _resolveComponent(\"a-tabs\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_a_row, {\n      type: \"flex\",\n      justify: \"center\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_a_col, { span: 16 }, {\n          default: _withCtx(() => [\n            _hoisted_2,\n            _createVNode(_component_a_tabs, {\n              type: \"card\",\n              activeKey: _ctx.currentKey,\n              \"onUpdate:activeKey\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.currentKey) = $event))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_a_tab_pane, {\n                  key: \"profile\",\n                  tab: \"修改个人资料\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_a_row, {\n                      type: \"flex\",\n                      justify: \"center\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_a_col, { span: 12 }, {\n                          default: _withCtx(() => [\n                            _hoisted_3,\n                            _createVNode(_component_styled_uploader, {\n                              text: \"上传封面图\",\n                              onFileUploaded: _ctx.updateAvatar,\n                              uploaded: _ctx.form.uploaded\n                            }, null, 8, [\"onFileUploaded\", \"uploaded\"]),\n                            _createVNode(_component_a_form, {\n                              model: _ctx.form,\n                              rules: _ctx.rules,\n                              ref: \"publishForm\",\n                              layout: \"vertical\"\n                            }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_a_form_item, {\n                                  label: \"昵称\",\n                                  required: \"\",\n                                  name: \"username\"\n                                }, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_a_input, {\n                                      value: _ctx.form.username,\n                                      \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.form.username) = $event)),\n                                      placeholder: \"填写你的昵称\"\n                                    }, {\n                                      prefix: _withCtx(() => [\n                                        _createVNode(_component_UserOutlined, { style: {\"color\":\"rgba(0,0,0,.25)\"} })\n                                      ]),\n                                      _: 1\n                                    }, 8, [\"value\"])\n                                  ]),\n                                  _: 1\n                                }),\n                                _createVNode(_component_a_form_item, {\n                                  label: \"性别\",\n                                  name: \"username\"\n                                }, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_a_radio_group, {\n                                      value: _ctx.form.gender,\n                                      \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.form.gender) = $event))\n                                    }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_a_radio_button, { value: \"0\" }, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(\" 男 \")\n                                          ]),\n                                          _: 1\n                                        }),\n                                        _createVNode(_component_a_radio_button, { value: \"1\" }, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(\" 女 \")\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }, 8, [\"value\"])\n                                  ]),\n                                  _: 1\n                                }),\n                                _createVNode(_component_a_form_item, null, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_a_button, {\n                                      type: \"primary\",\n                                      onClick: _ctx.update,\n                                      size: \"large\",\n                                      loading: _ctx.status.loading && _ctx.status.opName === 'login'\n                                    }, {\n                                      default: _withCtx(() => [\n                                        _createTextVNode(_toDisplayString(_ctx.status.loading ? '加载中' : '更新个人资料'), 1)\n                                      ]),\n                                      _: 1\n                                    }, 8, [\"onClick\", \"loading\"])\n                                  ]),\n                                  _: 1\n                                })\n                              ]),\n                              _: 1\n                            }, 8, [\"model\", \"rules\"])\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_a_tab_pane, {\n                  key: \"recover\",\n                  tab: \"恢复删除作品\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_a_table, {\n                      columns: _ctx.tableColumns,\n                      \"data-source\": _ctx.works,\n                      rowKey: \"id\",\n                      pagination: _ctx.pagination,\n                      onChange: _ctx.handleTableChange,\n                      loading: _ctx.loading\n                    }, {\n                      action: _withCtx(({ text, record }) => [\n                        _createElementVNode(\"span\", null, [\n                          _createVNode(_component_a_button, {\n                            type: \"primary\",\n                            onClick: ($event: any) => (_ctx.recoverWork(record.id))\n                          }, {\n                            default: _withCtx(() => [\n                              _createTextVNode(\"恢复该作品\")\n                            ]),\n                            _: 2\n                          }, 1032, [\"onClick\"])\n                        ])\n                      ]),\n                      _: 1\n                    }, 8, [\"columns\", \"data-source\", \"pagination\", \"onChange\", \"loading\"])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"activeKey\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ]))\n}","\r\nimport { defineComponent, ref, onMounted, Ref, computed, reactive } from 'vue'\r\n// import { UserOutlined } from '@ant-design/icons-vue'\r\nimport { GlobalDataProps } from '../store/index'\r\nimport StyledUploader from '../components/StyledUploader.vue'\r\nimport { useStore } from 'vuex'\r\nimport { message } from 'ant-design-vue'\r\nimport { UploadImgProps } from '../helper'\r\nexport interface RuleFormInstance {\r\n  validate: () => Promise<any>;\r\n}\r\ninterface PaginationProps {\r\n  pageSize: number;\r\n  total: number;\r\n  current: number;\r\n}\r\nexport default defineComponent({\r\n  name: 'Setting',\r\n  components: {\r\n    // UserOutlined,\r\n    // StyledUploader\r\n  },\r\n  setup () {\r\n    const store = useStore<GlobalDataProps>()\r\n    const publishForm = ref() as Ref<RuleFormInstance>\r\n    const user = computed(() => store.state.user.data)\r\n    const works = computed(() => store.state.works.works)\r\n    const loading = computed(() => store.state.status.loading)\r\n    const currentKey = ref('profile')\r\n    const pagination = reactive<PaginationProps>({\r\n      pageSize: 8,\r\n      total: 0,\r\n      current: 1\r\n    })\r\n    const form = reactive({\r\n      username: user.value.nickName || '',\r\n      gender: user.value.gender || '0',\r\n      uploaded: { data: { url: (user.value.picture || 'https://poster-master.oss-cn-guangzhou.aliyuncs.com/upload-files/logo-profile.png') } }\r\n    })\r\n    const status = computed(() => store.state.status)\r\n    const tableColumns = [\r\n      {\r\n        title: '作品',\r\n        dataIndex: 'title',\r\n        key: 'title'\r\n      },\r\n      {\r\n        title: 'ID',\r\n        dataIndex: 'id',\r\n        key: 'id'\r\n      },\r\n      {\r\n        title: '最后更新',\r\n        dataIndex: 'updatedAt',\r\n        key: 'updatedAt'\r\n      },\r\n      {\r\n        title: '操作',\r\n        key: 'action',\r\n        slots: { customRender: 'action' }\r\n      }\r\n    ]\r\n    const rules = {\r\n      username: [\r\n        { required: true, message: '用户昵称不能为空', trigger: 'blur' }\r\n      ]\r\n    }\r\n    const updateAvatar = (rawData: UploadImgProps) => {\r\n      form.uploaded = {\r\n        data: { url: rawData.data.urls[0] }\r\n      }\r\n    }\r\n    onMounted(() => {\r\n      store.dispatch('fetchWorks', { pageIndex: 0, pageSize: 8, status: 0 }).then(({ data }) => {\r\n        pagination.total = data.count\r\n      })\r\n    })\r\n    const recoverWork = (id: number) => {\r\n      store.dispatch('recoverWork', id).then(() => {\r\n        message.success('作品恢复成功', 1)\r\n      })\r\n    }\r\n    const handleTableChange = (pager: PaginationProps) => {\r\n      pagination.current = pager.current\r\n      store.dispatch('fetchWorks', { pageIndex: pager.current - 1, pageSize: 8, status: 0 })\r\n    }\r\n    const update = () => {\r\n      publishForm.value.validate().then(() => {\r\n        const payload = {\r\n          nickName: form.username,\r\n          gender: parseInt(form.gender),\r\n          picture: form.uploaded.data.url\r\n        }\r\n        store.dispatch('updateUserAndFetch', payload).then(() => {\r\n          message.success('更新信息成功', 1)\r\n        })\r\n      })\r\n    }\r\n    return {\r\n      form,\r\n      status,\r\n      rules,\r\n      update,\r\n      updateAvatar,\r\n      publishForm,\r\n      works,\r\n      tableColumns,\r\n      recoverWork,\r\n      pagination,\r\n      handleTableChange,\r\n      loading,\r\n      currentKey\r\n    }\r\n  }\r\n})\r\n","import { render } from \"./Setting.vue?vue&type=template&id=2f581a96&ts=true\"\nimport script from \"./Setting.vue?vue&type=script&lang=ts\"\nexport * from \"./Setting.vue?vue&type=script&lang=ts\"\n\nimport \"./Setting.vue?vue&type=style&index=0&id=2f581a96&lang=css\"\n\nimport exportComponent from \"D:\\\\code\\\\project\\\\front-end\\\\vue3\\\\posters\\\\node_modules\\\\.pnpm\\\\vue-loader@16.8.3_webpack@4.46.0\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import request from './fetch'\r\n// 获取作品\r\nexport function getWork(id: string) {\r\n    return request({\r\n        url: `/works/${id}`,\r\n        method: 'get',\r\n    });\r\n}\r\n\r\n// 保存作品\r\nexport function saveWork({data, id}) {\r\n    return request({\r\n        url: `/works/${id}`,\r\n        method: 'patch',\r\n        data\r\n    })\r\n}","import { Module } from 'vuex'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { cloneDeep, isUndefined } from 'lodash-es'\r\nimport { GlobalDataProps, asyncAndCommit } from './index'\r\nimport { insertAt } from '../helper'\r\nimport { MoveDirection } from '../plugins/dataOperations'\r\nimport { getWork, saveWork } from '@/service/editor'\r\nexport interface ComponentData {\r\n  props: { [key: string]: any };\r\n  id: string;\r\n  name: string;\r\n  layerName?: string;\r\n  isHidden?: boolean;\r\n  isLocked?: boolean;\r\n}\r\nexport interface PageData {\r\n  props: { [key: string]: any };\r\n  setting: { [key: string]: any };\r\n  id?: number;\r\n  title?: string;\r\n  desc?: string;\r\n  coverImg?: string;\r\n  uuid?: string;\r\n  latestPublishAt?: string;\r\n  updatedAt?: string;\r\n  isTemplate?: boolean;\r\n  isHot?: boolean;\r\n  isNew?: boolean;\r\n  author?: string;\r\n  copiedCount?: number;\r\n  status?: string;\r\n  user? : {\r\n    gender: string;\r\n    nickName: string;\r\n    picture: string;\r\n    userName: string;\r\n  };\r\n}\r\nexport interface ChannelProps {\r\n  id: number;\r\n  name: string;\r\n  workId: number;\r\n}\r\n\r\nexport interface HistoryProps {\r\n  id: string;\r\n  componentId?: string;\r\n  type: 'add' | 'delete' | 'modify';\r\n  data: any;\r\n  index?: number;\r\n}\r\nexport interface EditProps {\r\n  // 页面所有组件\r\n  components: ComponentData[];\r\n  // 当前被选中的组件 id\r\n  currentElement: string;\r\n  // 当前正在 inline editing 的组件\r\n  currentEditing: string;\r\n  // 当前数据已经被修改\r\n  isDirty: boolean;\r\n  // 当前模版是否修改但未发布\r\n  isChangedNotPublished: boolean;\r\n  // 当前被复制的组件\r\n  copiedComponent?: ComponentData;\r\n  // 当前 work 的数据\r\n  page: PageData;\r\n  // 当前 work 的 channels\r\n  channels: ChannelProps[];\r\n  // 当前操作的历史记录\r\n  histories: HistoryProps[];\r\n  // 当前历史记录的操作位置\r\n  historyIndex: number;\r\n}\r\nconst pageDefaultProps = { backgroundColor: '#ffffff', backgroundImage: '', backgroundRepeat: 'no-repeat', backgroundSize: 'cover', height: '560px' }\r\n// the max numbers for history items\r\nconst maxHistoryNumber = 20\r\nconst pushHistory = (state: EditProps, historyRecord: HistoryProps) => {\r\n  // check if historyIndex is already moved\r\n  if (state.historyIndex !== -1) {\r\n    // if already moved, we need delete all the records greater than the index\r\n    state.histories = state.histories.slice(0, state.historyIndex)\r\n    // move the historyIndex to the last  -1\r\n    state.historyIndex = -1\r\n  }\r\n  // if histories length is less than max number, just push it to the end\r\n  if (state.histories.length < maxHistoryNumber) {\r\n    state.histories.push(historyRecord)\r\n  } else {\r\n    // if histories length is larger then max number,\r\n    // 1 shift the first,\r\n    // 2 push to last\r\n    state.histories.shift()\r\n    state.histories.push(historyRecord)\r\n  }\r\n}\r\n\r\nconst modifyHistory = (state: EditProps, history: HistoryProps, type: 'undo' | 'redo') => {\r\n  const { componentId, data } = history\r\n  const { key, oldValue, newValue } = data\r\n  // modify the page setting\r\n  if (!componentId) {\r\n    state.page.props[key] = type === 'undo' ? oldValue : newValue\r\n  } else {\r\n    const updatedComponent = state.components.find((component) => component.id === componentId) as any\r\n    if (Array.isArray(key)) {\r\n      key.forEach((keyName: string, index) => {\r\n        updatedComponent.props[keyName] = type === 'undo' ? oldValue[index] : newValue[index]\r\n      })\r\n    } else {\r\n      updatedComponent.props[key] = type === 'undo' ? oldValue : newValue\r\n    }\r\n  }\r\n}\r\nlet globalTimeout = 0\r\nlet cachedOldValue: any\r\n\r\nconst debounceChange = (cachedValue: any, callback: () => void, timeout = 1000) => {\r\n  if (globalTimeout) {\r\n    clearTimeout(globalTimeout)\r\n  }\r\n  if (isUndefined(cachedOldValue)) {\r\n    cachedOldValue = cachedValue\r\n  }\r\n  globalTimeout = setTimeout(() => {\r\n    callback()\r\n    globalTimeout = 0\r\n    cachedOldValue = undefined\r\n  }, timeout)\r\n}\r\nconst editorModule: Module<EditProps, GlobalDataProps> = {\r\n  state: {\r\n    components: [],\r\n    currentElement: '',\r\n    currentEditing: '',\r\n    isDirty: false,\r\n    isChangedNotPublished: false,\r\n    page: { props: pageDefaultProps, setting: {} },\r\n    channels: [],\r\n    histories: [],\r\n    historyIndex: -1\r\n  },\r\n  mutations: {\r\n    // reset editor to clear\r\n    resetEditor (state) {\r\n      state.page = { props: pageDefaultProps, setting: {} }\r\n      state.components = []\r\n      state.histories = []\r\n      state.isDirty = false\r\n      state.isChangedNotPublished = false\r\n    },\r\n    addComponentToEditor (state, component) {\r\n      component.id = uuidv4()\r\n      component.layerName = '图层' + (state.components.length + 1)\r\n      state.components.push(component)\r\n      pushHistory(state, {\r\n        id: uuidv4(),\r\n        componentId: component.id,\r\n        type: 'add',\r\n        data: cloneDeep(component)\r\n      })\r\n      state.isDirty = true\r\n      state.isChangedNotPublished = true\r\n    },\r\n    // undo history\r\n    undo (state) {\r\n      // never undo before\r\n      if (state.historyIndex === -1) {\r\n        // undo to the last item of the histories array\r\n        state.historyIndex = state.histories.length - 1\r\n      } else {\r\n        // undo to the previous step\r\n        state.historyIndex--\r\n      }\r\n      // get the record\r\n      const history = state.histories[state.historyIndex]\r\n      // process the history data\r\n      switch (history.type) {\r\n        case 'add':\r\n          // if we create a component, then we should remove it\r\n          state.components = state.components.filter(component => component.id !== history.componentId)\r\n          break\r\n        case 'delete':\r\n          // if we delete a component, we should restore it at the right position\r\n          state.components = insertAt(state.components, history.index as number, history.data)\r\n          break\r\n        case 'modify': {\r\n          modifyHistory(state, history, 'undo')\r\n          break\r\n        }\r\n        default:\r\n          break\r\n      }\r\n    },\r\n    redo (state) {\r\n      // can't redo when historyIndex is the last item or historyIndex is never moved\r\n      if (state.historyIndex === -1) {\r\n        return\r\n      }\r\n      // get the record\r\n      const history = state.histories[state.historyIndex]\r\n      // process the history data\r\n      switch (history.type) {\r\n        case 'add':\r\n          state.components.push(history.data)\r\n          // state.components = insertAt(state.components, history.index as number, history.data)\r\n          break\r\n        case 'delete':\r\n          state.components = state.components.filter(component => component.id !== history.componentId)\r\n          break\r\n        case 'modify': {\r\n          modifyHistory(state, history, 'redo')\r\n          break\r\n        }\r\n        default:\r\n          break\r\n      }\r\n      state.historyIndex++\r\n    },\r\n    setActive (state, id) {\r\n      state.currentElement = id\r\n    },\r\n    setEditing (state, id) {\r\n      state.currentEditing = id\r\n    },\r\n    updatePage (state, { key, value, level }) {\r\n      const pageData = state.page as { [key: string]: any }\r\n      if (level) {\r\n        if (level === 'props') {\r\n          const oldValue = pageData[level][key]\r\n          debounceChange(oldValue, () => {\r\n            pushHistory(state, {\r\n              id: uuidv4(),\r\n              type: 'modify',\r\n              data: { oldValue: cachedOldValue, newValue: value, key }\r\n            })\r\n          })\r\n        }\r\n        pageData[level][key] = value\r\n      } else {\r\n        pageData[key] = value\r\n      }\r\n      state.isDirty = true\r\n      state.isChangedNotPublished = true\r\n    },\r\n    moveComponent (state, data: { direction: MoveDirection; amount: number }) {\r\n      const updatedComponent = state.components.find((component) => component.id === state.currentElement)\r\n      if (updatedComponent) {\r\n        const store = this as any\r\n        const oldTop = parseInt(updatedComponent.props.top)\r\n        const oldLeft = parseInt(updatedComponent.props.left)\r\n        const { direction, amount } = data\r\n        switch (direction) {\r\n          case 'Up': {\r\n            const newValue = oldTop - amount + 'px'\r\n            store.commit('updateComponent', { key: 'top', value: newValue, isProps: true })\r\n            break\r\n          }\r\n          case 'Down': {\r\n            const newValue = oldTop + amount + 'px'\r\n            store.commit('updateComponent', { key: 'top', value: newValue, isProps: true })\r\n            break\r\n          }\r\n          case 'Left': {\r\n            const newValue = oldLeft - amount + 'px'\r\n            store.commit('updateComponent', { key: 'left', value: newValue, isProps: true })\r\n            break\r\n          }\r\n          case 'Right': {\r\n            const newValue = oldLeft + amount + 'px'\r\n            store.commit('updateComponent', { key: 'left', value: newValue, isProps: true })\r\n            break\r\n          }\r\n          default:\r\n            break\r\n        }\r\n      }\r\n    },\r\n    updateComponent (state, { id, key, value, isProps }) {\r\n      const updatedComponent = state.components.find((component) => component.id === (id || state.currentElement)) as any\r\n      if (updatedComponent) {\r\n        if (isProps) {\r\n          const oldValue = Array.isArray(key) ? key.map((key: string) => updatedComponent.props[key]) : updatedComponent.props[key]\r\n\r\n          debounceChange(oldValue, () => {\r\n            pushHistory(state, {\r\n              id: uuidv4(),\r\n              componentId: (id || state.currentElement),\r\n              type: 'modify',\r\n              data: { oldValue: cachedOldValue, newValue: value, key }\r\n            })\r\n          })\r\n          if (Array.isArray(key)) {\r\n            key.forEach((keyName: string, index) => {\r\n              updatedComponent.props[keyName] = value[index]\r\n            })\r\n          } else {\r\n            updatedComponent.props[key] = value\r\n          }\r\n        } else {\r\n          updatedComponent[key] = value\r\n        }\r\n        state.isDirty = true\r\n        state.isChangedNotPublished = true\r\n      }\r\n    },\r\n    copyComponent (state, index) {\r\n      const currentComponent = state.components.find((component) => component.id === index)\r\n      if (currentComponent) {\r\n        state.copiedComponent = currentComponent\r\n      }\r\n    },\r\n    pasteCopiedComponent (state) {\r\n      if (state.copiedComponent) {\r\n        const clone = cloneDeep(state.copiedComponent)\r\n        clone.id = uuidv4()\r\n        clone.layerName = clone.layerName + '副本'\r\n        state.components.push(clone)\r\n        state.isDirty = true\r\n        state.isChangedNotPublished = true\r\n        pushHistory(state, {\r\n          id: uuidv4(),\r\n          componentId: clone.id,\r\n          type: 'add',\r\n          data: cloneDeep(clone)\r\n        })\r\n      }\r\n    },\r\n    deleteComponent (state, id) {\r\n      // find the current component and index\r\n      const componentData = state.components.find(component => component.id === id) as ComponentData\r\n      const componentIndex = state.components.findIndex(component => component.id === id)\r\n      state.components = state.components.filter(component => component.id !== id)\r\n      pushHistory(state, {\r\n        id: uuidv4(),\r\n        componentId: componentData.id,\r\n        type: 'delete',\r\n        data: componentData,\r\n        index: componentIndex\r\n      })\r\n      state.isDirty = true\r\n      state.isChangedNotPublished = true\r\n    },\r\n    getWork (state, { data }) {\r\n      const { content, ...rest } = data\r\n      state.page = { ...state.page, ...rest }\r\n      if (content.props) {\r\n        state.page.props = { ...state.page.props, ...content.props }\r\n      }\r\n      if (content.setting) {\r\n        state.page.setting = { ...state.page.setting, ...content.setting }\r\n      }\r\n      state.components = content.components\r\n    },\r\n    getChannels (state, { data }) {\r\n      state.channels = data.list\r\n    },\r\n    createChannel (state, { data }) {\r\n      state.channels = [...state.channels, data]\r\n    },\r\n    deleteChannel (state, { extraData }) {\r\n      state.channels = state.channels.filter(channel => channel.id !== extraData.id)\r\n    },\r\n    saveWork (state) {\r\n      state.isDirty = false\r\n      state.page.updatedAt = new Date().toISOString()\r\n    },\r\n    copyWork (state) {\r\n      state.page.updatedAt = new Date().toISOString()\r\n    },\r\n    publishWork (state) {\r\n      state.isChangedNotPublished = false\r\n      state.page.latestPublishAt = new Date().toISOString()\r\n    },\r\n    publishTemplate (state) {\r\n      state.page.isTemplate = true\r\n    }\r\n  },\r\n  actions: {\r\n    getWork ({ commit }, id) {\r\n      return  getWork(id).then(data => {\r\n        return commit('getWork', data)\r\n      })\r\n    },\r\n    getChannels ({ commit }, id) {\r\n      return asyncAndCommit(`/channel/getWorkChannels/${id}`, 'getChannels', commit)\r\n    },\r\n    createChannel ({ commit }, payload) {\r\n      return asyncAndCommit('/channel', 'createChannel', commit, { method: 'post', data: payload })\r\n    },\r\n    deleteChannel ({ commit }, id) {\r\n      return asyncAndCommit(`channel/${id}`, 'deleteChannel', commit, { method: 'delete' }, { id })\r\n    },\r\n    saveWorkT ({ commit, state }, payload) {\r\n      const { id, data } = payload\r\n      if (!data) {\r\n        // save current work\r\n        const { title, desc, props, coverImg, setting } = state.page\r\n        const postData = {\r\n          title,\r\n          desc,\r\n          coverImg,\r\n          content: {\r\n            components: state.components,\r\n            props,\r\n            setting\r\n          }\r\n        }\r\n        return saveWork({id, data: postData})\r\n      }\r\n    },\r\n    copyWork ({ commit }, id) {\r\n      return asyncAndCommit(`/works/copy/${id}`, 'copyWork', commit, { method: 'post' })\r\n    },\r\n    publishWork ({ commit }, id) {\r\n      return asyncAndCommit(`/works/publish/${id}`, 'publishWork', commit, { method: 'post' })\r\n    },\r\n    publishTemplate ({ commit }, id) {\r\n      return asyncAndCommit(`/works/publish-template/${id}`, 'publishTemplate', commit, { method: 'post' })\r\n    },\r\n    saveAndPublishWork ({ dispatch, state }, payload) {\r\n      const { id } = state.page\r\n      return dispatch('saveWork', payload)\r\n        .then(() => dispatch('publishWork', id))\r\n        .then(() => dispatch('getChannels', id))\r\n        .then(() => {\r\n          if (state.channels.length === 0) {\r\n            return dispatch('createChannel', { name: '默认', workId: id })\r\n          } else {\r\n            return Promise.resolve({})\r\n          }\r\n        })\r\n    }\r\n  },\r\n  getters: {\r\n    getCurrentElement: (state) => {\r\n      return state.components.find((component) => component.id === state.currentElement)\r\n    },\r\n    checkUndoDisable: (state) => {\r\n      // no history item or move to the first item\r\n      if (state.histories.length === 0 || state.historyIndex === 0) {\r\n        return true\r\n      }\r\n      return false\r\n    },\r\n    checkRedoDisable: (state) => {\r\n      // 1 no history item\r\n      // 2 move to the last item\r\n      // 3 never undo before\r\n      if (state.histories.length === 0 ||\r\n        state.historyIndex === state.histories.length ||\r\n        state.historyIndex === -1) {\r\n        return true\r\n      }\r\n      return false\r\n    }\r\n  }\r\n}\r\n\r\nexport default editorModule\r\n","import axios from 'axios'\r\nimport { Module } from 'vuex'\r\nimport { GlobalDataProps } from './index' \r\nimport { RespData } from '../typings/index'\r\nimport { getUserInfo, login, updateUserInfo } from '@/service/user'\r\nimport request from '@/service/fetch';\r\n\r\n// 用户信息\r\nexport interface UserDataProps {\r\n  username?: string;\r\n  id?: string;\r\n  phoneNumber?: string;\r\n  nickName?: string;\r\n  description?: string;\r\n  updatedAt?: string;\r\n  createdAt?: string;\r\n  iat?: number;\r\n  exp?: number;\r\n  picture?: string;\r\n  gender?: string;\r\n}\r\n\r\n// 用户状态\r\nexport interface UserProps {\r\n  isLogin: boolean;\r\n  token?: string;\r\n  data: UserDataProps;\r\n}\r\n\r\nconst user: Module<UserProps, GlobalDataProps> = {\r\n  state: {\r\n    isLogin: false,\r\n    data: {},\r\n    token: localStorage.getItem('token') || ''\r\n  },\r\n  mutations: {\r\n    login(state, rawData: RespData<{ token: string }>) {\r\n      const { token } = rawData.data\r\n      state.token = token\r\n      localStorage.setItem('token', token)\r\n      request.defaults.headers.common.Authorization = `Bearer ${token}`\r\n    },\r\n    fetchCurrentUser(state, rawData: RespData<UserDataProps>) {\r\n      state.isLogin = true\r\n      state.data = { ...rawData.data }\r\n    },\r\n    logout(state) {\r\n      state.token = ''\r\n      state.isLogin = false\r\n      localStorage.removeItem('token')\r\n      delete axios.defaults.headers.common.Authorization\r\n    },\r\n    updateUser (state, { data, extraData }) {\r\n      const { token } = data.data\r\n      state.data = { ...state.data, ...extraData }\r\n      state.token = token\r\n      localStorage.setItem('token', token)\r\n      request.defaults.headers.common.Authorization = `Bearer ${token}`\r\n    },\r\n  },\r\n  actions: {\r\n    login: ({ commit }, payload) => {\r\n      return login(payload).then(rawData => {\r\n        commit('login', rawData);\r\n      })\r\n    },\r\n    fetchCurrentUser: ({ commit }) => {\r\n        return getUserInfo().then(rawData => {\r\n            return commit('fetchCurrentUser', rawData);\r\n        })\r\n    },\r\n    loginAndFetch({ dispatch }, loginData) {\r\n      return dispatch('login', loginData).then(() => {\r\n        return dispatch('fetchCurrentUser')\r\n      })\r\n    },\r\n    updateUser ({ commit }, payload) {\r\n      updateUserInfo(payload).then(data => {\r\n        commit('updateUser', data);\r\n      })\r\n    },\r\n    updateUserAndFetch ({ dispatch }, payload) {\r\n      return dispatch('updateUser', payload).then(() => {\r\n        return dispatch('fetchCurrentUser')\r\n      })\r\n    } \r\n  }\r\n};\r\n\r\nexport default user;","/**\r\n * 获取作品\r\n */\r\nimport request from './fetch';\r\n\r\nexport function getTemplate(payload: any) {\r\n    return request({\r\n        url: '/works',\r\n        method: 'get',\r\n        params: {...payload}\r\n    })\r\n}","import { Module } from 'vuex'\r\nimport { GlobalDataProps, asyncAndCommit } from './index'\r\nimport { PageData } from './editor'\r\nimport { objToQueryString } from '../helper'\r\nimport { baseStaticURL } from '../main'\r\nimport { getTemplate } from '@/service/work'\r\nexport type WorkProp = Required<Omit<PageData, 'props' | 'setting'>> & {\r\n  barcodeUrl?: string;\r\n}\r\n\r\nexport interface StaticProps {\r\n  eventDate: string;\r\n  eventData: { pv: number };\r\n  eventKey: string;\r\n  _id: string;\r\n}\r\n\r\nexport interface WorksProp {\r\n  templates: WorkProp[];\r\n  works: WorkProp[];\r\n  statics: { id: number; name: string; list: StaticProps[]}[];\r\n  totalWorks: number;\r\n  totalTemplates: number;\r\n  searchText: string;\r\n}\r\n\r\nconst workModule: Module<WorksProp, GlobalDataProps> = {\r\n  state: {\r\n    templates: [],\r\n    works: [],\r\n    totalWorks: 0,\r\n    statics: [],\r\n    totalTemplates: 0,\r\n    searchText: ''\r\n  },\r\n  mutations: {\r\n    fetchTemplates (state, { data, extraData }) {\r\n      const { pageIndex, searchText } = extraData\r\n      const { list, count } = data.data\r\n      if (pageIndex === 0) {\r\n        state.templates = list\r\n      } else {\r\n        state.templates = [...state.templates, ...list]\r\n      }\r\n      state.totalTemplates = count\r\n      state.searchText = searchText || ''\r\n    },\r\n    fetchTemplate (state, { data }) {\r\n      state.templates = [data]\r\n    },\r\n    fetchWorks (state, { data, extraData }) {\r\n      const { pageIndex, searchText } = extraData\r\n      const { list, count } = data.data\r\n      // if (pageIndex === 0) {\r\n      //   state.works = list\r\n      // } else {\r\n      //   state.works = [...state.works, ...list]\r\n      // }\r\n      state.works = list\r\n      state.totalWorks = count\r\n      state.searchText = searchText || ''\r\n    },\r\n    createWork (state, { data }) {\r\n      state.works.unshift(data)\r\n    },\r\n    deleteWork (state, { extraData }) {\r\n      state.works = state.works.filter(work => work.id !== extraData.id)\r\n    },\r\n    recoverWork (state, { extraData }) {\r\n      state.works = state.works.filter(work => work.id !== extraData.id)\r\n    },\r\n    transferWork (state, { data, extraData }) {\r\n      if (data.errno === 0) {\r\n        state.works = state.works.filter(work => work.id !== extraData.id)\r\n      }\r\n    },\r\n    fetchStatic (state, { data, extraData }) {\r\n      const list = data.data\r\n      const { name, id } = extraData\r\n      state.statics.push({ name, id, list })\r\n    },\r\n    clearStatic (state) {\r\n      state.statics = []\r\n    }\r\n  },\r\n  actions: {\r\n    fetchTemplates ({ commit }, queryObj = { pageIndex: 0, pageSize: 8, title: '' }) {\r\n      if (!queryObj.title) {\r\n        delete queryObj.title\r\n      }\r\n      const queryString = objToQueryString(queryObj)\r\n      return asyncAndCommit(`/templates?${queryString}`, 'fetchTemplates', commit, { method: 'get' }, { pageIndex: queryObj.pageIndex, searchText: queryObj.title })\r\n    },\r\n    fetchTemplate ({ commit }, id) {\r\n      return asyncAndCommit(`/templates/${id}`, 'fetchTemplate', commit)\r\n    },\r\n    fetchWorks ({ commit }, queryObj = { pageIndex: 0, pageSize: 8, title: '' }) {\r\n      if (!queryObj.title) {\r\n        delete queryObj.title\r\n      }\r\n      getTemplate(queryObj).then((data) => {\r\n        commit('fetchWorks', {data, extraData: { pageIndex: queryObj.pageIndex, searchText: queryObj.title }})\r\n      })\r\n    },\r\n    deleteWork ({ commit }, id) {\r\n      return asyncAndCommit(`/works/${id}`, 'deleteWork', commit, { method: 'delete' }, { id })\r\n    },\r\n    createWork ({ commit }, payload: WorkProp) {\r\n      return asyncAndCommit('/works', 'createWork', commit, { method: 'post', data: payload })\r\n    },\r\n    fetchStatic ({ commit }, queryObj) {\r\n      const newObj = { category: 'h5', action: 'pv', ...queryObj }\r\n      const queryString = objToQueryString(newObj)\r\n      return asyncAndCommit(`${baseStaticURL}/api/event?${queryString}`, 'fetchStatic', commit, { method: 'get' }, { name: queryObj.name, id: queryObj.label })\r\n    },\r\n    recoverWork ({ commit }, id) {\r\n      return asyncAndCommit(`/works/put-back/${id}`, 'recoverWork', commit, { method: 'post' }, { id })\r\n    },\r\n    transferWork ({ commit }, { id, username }) {\r\n      return asyncAndCommit(`/works/transfer/${id}/${username}`, 'transferWork', commit, { method: 'post' }, { id })\r\n    }\r\n  },\r\n  getters: {\r\n    getCurrentTemplate: state => (id: string) => {\r\n      return state.templates.find((template) => template.id === parseInt(id))\r\n    }\r\n  }\r\n}\r\n\r\nexport default workModule\r\n","import { createStore, Commit } from 'vuex'\r\nimport axios, { AxiosRequestConfig } from 'axios'\r\nimport editor, { EditProps } from './editor'\r\nimport user, { UserProps } from './user'\r\nimport works, { WorksProp } from './works'\r\nexport interface GlobalStatus {\r\n  loading: boolean;\r\n  error: any;\r\n  opName?: string;\r\n}\r\n\r\nexport interface GlobalDataProps {\r\n  // user info\r\n  user: UserProps;\r\n  // 全局状态，loading，error 等等\r\n  status: GlobalStatus;\r\n  editor: EditProps;\r\n  works: WorksProp;\r\n}\r\nexport type ICustomAxiosConfig = AxiosRequestConfig & {\r\n  mutationName: string;\r\n}\r\nexport const asyncAndCommit = async (url: string, mutationName: string,\r\n  commit: Commit,\r\n  config: AxiosRequestConfig = { method: 'get' },\r\n  extraData?: any) => {\r\n  const newConfig: ICustomAxiosConfig = { ...config, mutationName }\r\n  const { data } = await axios(url, newConfig)\r\n  if (extraData) {\r\n    commit(mutationName, { data, extraData })\r\n  } else {\r\n    commit(mutationName, data)\r\n  }\r\n  return data\r\n}\r\nexport default createStore<GlobalDataProps>({\r\n  state: {\r\n    user: {} as UserProps,\r\n    status: { loading: false, error: { status: false, message: '' }, opName: '' },\r\n    editor: {} as EditProps,\r\n    works: {} as WorksProp\r\n  },\r\n  mutations: {\r\n    setLoading (state, { status, opName }) {\r\n      state.status.loading = status\r\n      if (opName) {\r\n        state.status.opName = opName\r\n      }\r\n    },\r\n    setError (state, e) {\r\n      state.status.error = e\r\n    }\r\n  },\r\n  modules: {\r\n    editor,\r\n    user,\r\n    works\r\n  }\r\n})","import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router'\r\nimport Index from '../views/Index.vue'\r\nimport Home from '../views/Home.vue'\r\nimport MyWork from '../views/MyWork.vue'\r\nimport TemplateDetail from '../views/TemplateDetail.vue'\r\nimport Setting from '../views/Setting.vue'\r\nimport axios from 'axios'\r\nimport store from '../store'\r\n\r\nconst routes: Array<RouteRecordRaw> = [\r\n  {\r\n    path: '/',\r\n    name: 'Index',\r\n    component: Index,\r\n    children: [\r\n      { path: '', name: 'Home', component: Home, meta: { title: '欢迎来到慕课乐高' } },\r\n      { path: 'mywork', name: 'MyWork', component: MyWork, meta: { requiredLogin: true, title: '我的设计列表' } },\r\n      { path: '/template/:id', name: 'TemplateDetail', component: TemplateDetail, meta: { title: '模版详情' } },\r\n      { path: 'setting', name: 'Setting', component: Setting, meta: { requiredLogin: true, title: '我的信息' } }\r\n    ]\r\n  },\r\n  {\r\n    path: '/editor/:id',\r\n    name: 'Editor',\r\n    component: () => import(/* webpackChunkName: \"editor\" */ '../views/Editor.vue'),\r\n    meta: { requiredLogin: true, title: '编辑我的设计' }\r\n  },\r\n  {\r\n    path: '/login',\r\n    name: 'Login',\r\n    component: () => import(/* webpackChunkName: \"login\" */ '../views/Login.vue'),\r\n    meta: { redirectAlreadyLogin: true, title: '登录到慕课乐高' }\r\n  }\r\n]\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes,\r\n  scrollBehavior: (to, from, savedPosition) => {\r\n    if (savedPosition) {\r\n      return savedPosition\r\n    } else {\r\n      return Promise.resolve({ left: 0, top: 0 })\r\n    }\r\n  }\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  const { user } = store.state\r\n  const { token, isLogin } = user\r\n  const { requiredLogin, redirectAlreadyLogin, title } = to.meta\r\n  console.log('token', token)\r\n  if (title) {\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\r\n    // @ts-ignore\r\n    document.title = title\r\n  }\r\n  if (!isLogin) {\r\n    if (token) {\r\n      store.dispatch('fetchCurrentUser').then((data: any) => {\r\n        next();\r\n      }).catch(e => {\r\n        console.error(e)\r\n        store.commit('logout')\r\n        next('login')\r\n      })\r\n    } else {\r\n      if (requiredLogin) {\r\n        next('login')\r\n      } else {\r\n        next()\r\n      }\r\n    }\r\n  } else {\r\n    if (redirectAlreadyLogin) {\r\n      next('/')\r\n    } else {\r\n      next()\r\n    }\r\n  }\r\n})\r\n\r\nexport default router\r\n","import { createApp } from 'vue'\r\nimport axios from 'axios'\r\n// import Antd from 'ant-design-vue'\r\nimport Antd from './configAntD'\r\nimport PosterComponents from 'poster-components'\r\nimport 'ant-design-vue/dist/antd.less'\r\n// import 'cropperjs/dist/cropper.css'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store, { ICustomAxiosConfig } from './store'\r\nexport interface CustomWindow extends Window {\r\n  __bl: { api: (url: string, success: boolean, time: number, code?: number, msg?: string) => null };\r\n}\r\ndeclare let window: CustomWindow\r\n// generating different urls based on env\r\nlet baseBackendURL = ''\r\nlet baseH5URL = ''\r\nlet baseStaticURL = ''\r\n\r\nif (process.env.NODE_ENV === 'development' || process.env.VUE_APP_IS_STAGING) {\r\n  // 这里是本地的请求 URL\r\n  // staging 也就是测试环境 URL\r\n  baseBackendURL = 'http://182.92.168.192:8081'\r\n  baseH5URL = 'http://182.92.168.192:8082'\r\n  baseStaticURL = 'http://182.92.168.192:8080'\r\n} else {\r\n  // 生产环境 URL\r\n  baseBackendURL = 'https://api.imooc-lego.com'\r\n  baseH5URL = 'https://h5.imooc-lego.com'\r\n  baseStaticURL = 'https://statistic-res.imooc-lego.com'\r\n}\r\n\r\nexport { baseBackendURL, baseH5URL, baseStaticURL }\r\n\r\naxios.defaults.baseURL = `${baseBackendURL}/api/`\r\nconst app = createApp(App)\r\nlet timeGap = 0\r\nlet currentURL = ''\r\naxios.interceptors.request.use(config => {\r\n  const newConfig = config as ICustomAxiosConfig\r\n  store.commit('setLoading', { status: true, opName: newConfig.mutationName })\r\n  store.commit('setError', { status: false, message: '' })\r\n  timeGap = Date.now()\r\n  const { baseURL, url } = config\r\n  currentURL = `${baseURL?.slice(0, -1)}${url}` as string\r\n  return config\r\n})\r\n\r\naxios.interceptors.response.use(resp => {\r\n  store.commit('setLoading', { status: false })\r\n  if (resp.data.errno !== 0) {\r\n    store.commit('setError', { status: true, message: resp.data.message })\r\n    return Promise.reject(resp.data)\r\n  }\r\n  timeGap = Date.now() - timeGap\r\n  window.__bl && window.__bl.api && window.__bl.api(currentURL, true, timeGap, 0, resp.data.message)\r\n  return resp\r\n}, e => {\r\n  const error = e.response ? e.response.data : e.message\r\n  store.commit('setError', { status: true, message: error })\r\n  store.commit('setLoading', { status: false })\r\n  timeGap = Date.now() - timeGap\r\n  window.__bl && window.__bl.api && window.__bl.api(currentURL, false, timeGap, -1, error)\r\n  return Promise.reject(error)\r\n})\r\n\r\napp.use(store).use(router).use(Antd).use(PosterComponents)\r\napp.mount('#app')\r\n","module.exports = __webpack_public_path__ + \"img/logo.c95a9800.png\";","import { useStore } from 'vuex'\r\nimport { computed } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { GlobalDataProps } from '../store/index'\r\n\r\nfunction useCreateDesign () {\r\n  const store = useStore<GlobalDataProps>()\r\n  const router = useRouter()\r\n  const userInfo = computed(() => store.state.user)\r\n  const createDesign = () => {\r\n    if (userInfo.value.isLogin) {\r\n      const payload = {\r\n        title: '未命名作品',\r\n        desc: '未命名作品',\r\n        coverImg: 'http://typescript-vue.oss-cn-beijing.aliyuncs.com/vue-marker/5f81cca3f3bf7a0e1ebaf885.png'\r\n      }\r\n      store.dispatch('createWork', payload).then(({ data }) => {\r\n        router.push(`/editor/${data.id}`)\r\n      })\r\n    } else {\r\n      router.push('/login')\r\n    }\r\n  }\r\n  return createDesign\r\n}\r\n\r\nexport default useCreateDesign\r\n"],"sourceRoot":""}