(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{5295:function(e,t,c){},a38b:function(e,t,c){"use strict";c("5295")},a55b:function(e,t,c){"use strict";c.r(t);var l=c("3955"),a=c("cf05"),b=c.n(a);const o={class:"login-page"},n={class:"aside-inner"},r=Object(l["n"])("img",{alt:"海报大师",src:b.a,class:"logo-img"},null,-1),s=Object(l["n"])("h2",null,"这是我用过的最好的海报编辑网站",-1),i=Object(l["n"])("span",{class:"text-white-70"},"王铁锤, Google",-1),u=Object(l["n"])("h2",null,"欢迎回来",-1),O=Object(l["n"])("p",{class:"subTitle"},"使用邮箱号码和验证码登录到海报大师",-1);function d(e,t,c,a,b,d){const j=Object(l["S"])("router-link"),f=Object(l["S"])("a-col"),p=Object(l["S"])("UserOutlined"),m=Object(l["S"])("a-input"),g=Object(l["S"])("a-form-item"),v=Object(l["S"])("LockOutlined"),h=Object(l["S"])("a-button"),q=Object(l["S"])("a-form"),w=Object(l["S"])("a-row");return Object(l["J"])(),Object(l["m"])("div",o,[Object(l["q"])(w,null,{default:Object(l["fb"])(()=>[Object(l["q"])(f,{span:12,class:"aside"},{default:Object(l["fb"])(()=>[Object(l["n"])("div",n,[Object(l["q"])(j,{to:"/"},{default:Object(l["fb"])(()=>[r]),_:1}),s,i])]),_:1}),Object(l["q"])(f,{span:12,class:"login-area"},{default:Object(l["fb"])(()=>[Object(l["q"])(q,{layout:"vertical",model:e.form,rules:e.rules,ref:"loginForm"},{default:Object(l["fb"])(()=>[u,O,Object(l["q"])(g,{label:"邮箱号码",required:"",name:"cellphone"},{default:Object(l["fb"])(()=>[Object(l["q"])(m,{placeholder:"邮箱号码",value:e.form.cellphone,"onUpdate:value":t[0]||(t[0]=t=>e.form.cellphone=t)},{prefix:Object(l["fb"])(()=>[Object(l["q"])(p,{style:{color:"rgba(0,0,0,.25)"}})]),_:1},8,["value"])]),_:1}),Object(l["q"])(g,{label:"验证码",required:"",name:"verifyCode"},{default:Object(l["fb"])(()=>[Object(l["q"])(m,{placeholder:"四位验证码",value:e.form.verifyCode,"onUpdate:value":t[1]||(t[1]=t=>e.form.verifyCode=t)},{prefix:Object(l["fb"])(()=>[Object(l["q"])(v,{style:{color:"rgba(0,0,0,.25)"}})]),_:1},8,["value"])]),_:1}),Object(l["q"])(g,null,{default:Object(l["fb"])(()=>[Object(l["q"])(h,{type:"primary",size:"large",onClick:e.login},{default:Object(l["fb"])(()=>[Object(l["p"])(" 登录 ")]),_:1},8,["onClick"]),Object(l["q"])(h,{size:"large",style:{marginLeft:"20px"},disabled:e.codeButtonDisable,onClick:e.getCode},{default:Object(l["fb"])(()=>[Object(l["p"])(Object(l["W"])(60===e.counter?"获取验证码":e.counter+"秒后重发"),1)]),_:1},8,["disabled","onClick"])]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})])}c("558b");var j=c("8dbf"),f=c("b6f3"),p=c("9a86"),m=c("596a"),g=c("3ef6"),v=Object(l["r"])({components:{},setup(){const e=Object(l["N"])({cellphone:"",verifyCode:""}),t=(e,t)=>new Promise((e,c)=>{const l=/^([a-zA-Z]|[0-9])(\w|-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(t.trim());setTimeout(()=>{l?e(""):c("邮箱格式不正确")},500)});let c=0;const a=Object(l["N"])({cellphone:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{asyncValidator:t,trigger:"blur"}],verifyCode:[{required:!0,message:"验证码不能为空",trigger:"blur"}]}),b=Object(l["O"])(60),o=()=>{b.value--,c=window.setInterval(()=>{b.value--},1e3)},n=()=>{Object(j["b"])(e.cellphone).then(()=>{m["a"].success("验证码已发送，请注意查收",5),o()})},r=Object(l["i"])(()=>!/^([a-zA-Z]|[0-9])(\w|-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(e.cellphone.trim())||b.value<60),s=g["a"].useForm,{validate:i}=s(e,a),u=Object(f["b"])(),O=Object(p["e"])(),d=()=>{i().then(()=>{const t={emailAddress:e.cellphone,veriCode:e.verifyCode};u.dispatch("loginAndFetch",t).then(()=>{m["a"].success("登录成功 2秒后跳转首页"),setTimeout(()=>{O.push("/")},2e3)})})};return Object(l["db"])(b,e=>{0===e&&(clearInterval(c),b.value=60)}),{login:d,form:e,rules:a,getCode:n,counter:b,codeButtonDisable:r}}}),h=(c("a38b"),c("85dd")),q=c.n(h);const w=q()(v,[["render",d]]);t["default"]=w}}]);
//# sourceMappingURL=login.87d19cf2.js.map